<!DOCTYPE html>
<!-- Wire, Copyright (C) 2018 Wire Swiss GmbH -->
<!-- {{config.CURRENT_VERSION_ID}} -->
<html id="wire-main-app">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="geoip" country="{{country}}">
<meta property="wire:version" version="{{config.CURRENT_VERSION_ID}}">

<link href="/image/favicon.ico" type="image/x-icon" rel="shortcut icon" sizes="48x48">
<link href="/image/icon/wire-icon-256.png" rel="icon" sizes="256x256" type="image/png">
<link href="/image/icon/wire-icon-128.png" rel="icon" sizes="128x128" type="image/png">
<link href="/image/icon/wire-icon-64.png" rel="icon" sizes="64x64" type="image/png">

    <meta property="og:title" content="Wire · The most secure collaboration platform">
<meta property="og:description" name="description" content="Business chats, one-click conference calls and shared documents – all protected with end-to-end encryption. Also available for personal use.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://app.wire.com">
<meta property="og:image" content="https://wire-docs.wire.com/kalina/wire-icon.png">

    <title>Wire</title>
    <link href="/style/main.css" rel="stylesheet">

  </head>

  <body>
    <svg style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="icon-not-verified" viewBox="0 0 1024 1024">
      <title>not-verified</title>
      <path fill="#0096f1" class="path1" d="M960 119.806v392.194c0 256-189.801 454.253-448 512-255.541-57.747-448-256-448-512v-384l448-128 448 119.806zM512 53.249l-396.8 113.365v345.386c0 219.636 161.007 401.62 396.8 459.402v-918.153z"></path>
    </symbol>
    <symbol id="icon-verified" viewBox="0 0 1024 1024">
      <title>verified</title>
      <path fill="#0096f1" class="path1" d="M960 121.6l-448-121.6-448 128v384c0 256 192 454.4 448 512 256-57.6 448-256 448-512v-390.4z"></path>
      <path fill="#1a78b1" class="path2" d="M960 121.6l-448-121.6v1024c256-57.6 448-256 448-512v-390.4z"></path>
    </symbol>
    <symbol id="icon-gmail" viewBox="0 0 1024 1024">
      <title>gmail</title>
      <path fill="#fff" class="path1" d="M346.835 28.002c-124.362 42.552-230.331 135.618-289.355 253.392-20.59 40.631-35.414 83.732-44.474 128.48-22.512 110.91-6.863 229.233 44.199 330.261 33.218 65.887 80.987 124.637 138.638 170.484 54.632 43.376 118.048 75.771 185.583 93.615 85.105 22.786 175.7 22.237 261.353 2.745 77.418-17.845 150.717-54.906 209.192-108.714 61.769-56.828 105.969-131.5 129.304-211.938 25.531-87.575 28.826-181.19 12.903-271.236h-480.429v199.309h278.374c-10.707 63.691-48.592 121.892-102.125 157.855-33.767 22.786-72.476 37.336-112.558 44.474-40.082 6.863-81.81 7.687-121.892-0.275-40.905-8.236-79.614-25.257-113.656-49.141-54.357-38.16-95.811-93.89-116.95-156.757-21.688-63.966-21.962-135.069 0-198.76 15.374-45.023 40.631-86.477 74.123-120.519 41.18-42.278 94.713-72.476 152.639-84.83 49.416-10.432 101.576-8.51 149.894 6.040 41.18 12.354 79.065 35.14 110.087 64.789 31.297-31.297 62.593-62.593 93.89-93.89 16.472-16.746 33.767-32.944 49.69-50.239-47.494-43.925-103.498-79.339-164.444-101.851-109.812-40.631-233.351-41.454-343.987-3.294v0z"></path>
      <path fill="#ea4335" class="path2" d="M346.835 28.002c110.361-38.16 234.175-37.336 343.987 3.020 60.946 22.512 116.676 57.651 164.444 101.851-15.923 17.295-33.218 33.493-49.69 50.239-31.297 31.297-62.593 62.593-93.89 93.89-31.022-29.649-68.907-52.161-110.087-64.789-48.317-14.55-100.478-16.746-149.894-6.040-57.651 12.354-111.185 42.552-152.639 84.83-33.493 33.767-58.75 75.496-74.123 120.519-55.73-43.376-111.46-86.477-167.464-129.853 59.024-118.048 164.993-211.114 289.355-253.666v0z"></path>
      <path fill="#fbbc05" class="path3" d="M13.28 409.6c9.060-44.474 23.884-87.85 44.474-128.48 55.73 43.376 111.46 86.477 167.464 129.853-21.962 63.966-21.962 135.069 0 198.76-55.73 43.376-111.46 86.752-167.189 129.853-51.612-100.753-67.26-219.076-44.749-329.986v0z"></path>
      <path fill="#4285f4" class="path4" d="M513.75 414.816h480.429c15.923 89.772 12.354 183.387-12.903 271.236-23.335 80.438-67.535 155.11-129.304 211.938-54.083-42.003-108.165-84.006-162.248-126.010 53.534-35.964 91.419-94.164 102.125-157.855h-278.374c0.275-66.436 0.275-132.873 0.275-199.309v0z"></path>
      <path fill="#34a853" class="path5" d="M57.48 739.861c55.73-43.101 111.46-86.477 167.189-129.853 21.413 62.868 62.593 118.597 116.95 156.757 34.042 23.884 73.025 40.905 113.656 49.141 40.082 8.236 81.536 7.138 121.892 0.275 40.082-7.138 78.79-21.688 112.558-44.474 54.083 42.003 108.165 84.006 162.248 126.010-58.475 54.083-131.775 90.87-209.192 108.714-85.654 19.492-176.249 20.041-261.353-2.745-67.535-17.844-130.951-49.965-185.583-93.615-57.377-45.572-105.145-104.322-138.364-170.209v0z"></path>
    </symbol>
  </defs>
</svg>

    <div id="wire-main"
     class="off"
     data-bind="css: mainClasses(), ignore_drop_file: true"
     data-uie-name="status-webapp"
     data-uie-value="is-loading">
  <!-- ko stopBinding: true -->
    <div id="app" class="app">
      <div id="left-column" class="left-column" data-bind="css: {'left-column--light-theme': !isActivatedAccount()}">
        <!-- ko if: webappLoaded -->
          <div id="background" data-bind="switchBackground: selfUserPicture">
  <!-- ko if: isActivatedAccount() -->
    <div class="background">
      <div class="background-image"></div>
      <div class="background-darken"></div>
    </div>
  <!-- /ko -->
  <!-- ko ifnot: isActivatedAccount() -->
    <div class="background--white"></div>
  <!-- /ko -->
</div>

          <!-- ko ifnot: modal() -->
            <div id="archive" class="left-list left-list-archive" data-bind="with: $root.archive">
  <div class="left-list-header">
    <span class="left-list-header-text" data-bind="l10n_text: z.string.archiveHeader"></span>
    <span class="left-list-header-close-button button-icon-large icon-close" data-bind="clickOrDrag: clickOnClose, l10n_tooltip: z.string.tooltipSearchClose" data-uie-name="do-close-archive"></span>
  </div>
  <div class="left-list-center">
    <ul class="left-list-items" data-bind="antiscroll: shouldUpdateScrollbar, bordered_list: archivedConversations, foreach: archivedConversations">
      <li>
        <conversation-list-cell
          data-bind="click: $parent.clickOnConversation, event: {'contextmenu': $parent.listViewModel.onContextMenu}"
          data-uie-name="item-conversation-archived"
          params="click: $parent.listViewModel.onContextMenu, conversation: $data">
        </conversation-list-cell>
      </li>
    </ul>
  </div>
</div>

            <div id="conversations" class="conversations left-list-is-visible" data-bind="with: $root.conversations">
  <div class="left-list-header">
    <!-- ko if: isTeam() -->
      <availability-state class="left-list-header-availability"
                          data-bind="clickOrDrag: clickOnAvailability"
                          data-uie-name="status-availability"
                          params="availability: selfAvailability, label: selfUserName">
      </availability-state>
    <!-- /ko -->
    <!-- ko ifnot: isTeam() -->
      <span class="left-list-header-text" data-bind="text: selfUserName" data-uie-name="status-name"></span>
    <!-- /ko -->
  </div>
  <!-- ko if: showCalls() -->
    <!-- ko foreach: callConversations -->
      <conversation-list-calling-cell
        data-bind="click: $parent.clickOnConversation, attr: {'data-uie-uid': $data.id, 'data-uie-value': $data.display_name}"
        params="conversation: $data, callingRepository: $parent.callingRepository, permissionRepository: $parent.permissionRepository, multitasking: $parent.multitasking, videoGridRepository: $parent.videoGridRepository"
        data-uie-name="item-call">
      </conversation-list-calling-cell>
    <!-- /ko -->
  <!-- /ko -->
  <div class="left-list-center">
    <!-- ko if: unarchivedConversations().length > 0 || showConnectRequests() -->
      <ul class="left-list-items" data-bind="antiscroll: shouldUpdateScrollbar, bordered_list: unarchivedConversations">

      <!-- ko if: showConnectRequests() -->
        <li class="conversation-list-cell" data-bind="click: clickOnConnectRequests, css: {'conversation-list-cell-active': stateIsRequests()}">
          <div class="conversation-list-cell-left">
            <!-- ko if: connectRequests().length === 1 -->
              <div class="avatar-halo">
                <participant-avatar params="participant: connectRequests()[0], size: z.components.ParticipantAvatar.SIZE.SMALL"></participant-avatar>
              </div>
            <!-- /ko -->

            <!-- ko if: connectRequests().length > 1 -->
              <group-avatar params="users: connectRequests()"></group-avatar>
            <!-- /ko -->
          </div>

          <div class="conversation-list-cell-center">
            <span class="conversation-list-cell-name"
                  data-bind="text: connectRequestsText, css: {'text-theme': stateIsRequests()}"
                  data-uie-name="item-pending-requests"></span>
          </div>

          <div class="conversation-list-cell-right">
            <span class="conversation-list-cell-badge cell-badge-dark icon-pending" data-uie-name="status-pending"></span>
          </div>
        </li>
      <!-- /ko -->

      <!-- ko foreach: unarchivedConversations -->
        <conversation-list-cell
          data-bind="click: $parent.clickOnConversation, event: {'contextmenu': $parent.listViewModel.onContextMenu}"
          data-uie-name="item-conversation"
          params="click: $parent.listViewModel.onContextMenu, conversation: $data, is_selected: $parent.isSelectedConversation">
        </conversation-list-cell>
      <!-- /ko -->
    </ul>
    <!-- /ko -->
    <!-- ko if: noConversations() -->
      <!-- ko if: archivedConversations().length === 0 -->
        <div class="conversations-hint" data-uie-name="status-start-conversation-hint">
          <div class="conversations-hint-text" data-bind="l10n_text: z.string.conversationsNoConversations"></div>
          <svg class="conversations-hint-arrow" width="16" height="53" viewBox="0 0 16 53">
            <path d="M13.9 43l1.414 1.414-7.657 7.657L0 44.414 1.414 43l5.24 5.24V0h2v48.246z" fill="#FFF" fill-rule="evenodd"></path>
          </svg>
        </div>
      <!-- /ko -->
      <!-- ko if: archivedConversations().length > 0 -->
        <div class="conversations-all-archived" data-bind="l10n_text: z.string.conversationsAllArchived"></div>
      <!-- /ko -->
    <!-- /ko -->
  </div>
  <div class="conversations-footer">
    <span class="button-icon-large icon-people" data-bind="attr: {title: startTooltip}, click: clickOnPeopleButton" data-uie-name="go-people"></span>
    <!-- ko if: archivedConversations().length > 0 -->
      <span class="button-icon-large icon-archive" data-bind="attr: {title: archiveTooltip}, click: clickOnArchivedButton" data-uie-name="go-archive"></span>
    <!-- /ko -->
    <span class="conversations-settings button-icon-large icon-settings" data-bind="click: clickOnPreferencesButton, l10n_tooltip: z.string.tooltipConversationsPreferences" data-uie-name="go-preferences">
      <!-- ko if: showBadge() -->
        <span class="conversations-settings-badge bg-theme"></span>
      <!-- /ko -->
    </span>
  </div>
</div>

            <div id="preferences" class="left-list left-list-preferences" data-bind="with: $root.preferences">
  <div class="left-list-header">
    <span class="left-list-header-text" data-bind="l10n_text: z.string.preferencesHeadline"></span>
    <span class="left-list-header-close-button button-icon-large icon-close" data-bind="clickOrDrag: clickOnClosePreferences, l10n_tooltip: z.string.tooltipSearchClose" data-uie-name="do-close-preferences"></span>
  </div>
  <div class="left-list-center">
    <ul class="left-list-items preferences-list-items">
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAccount, css: {'text-theme': selectedAccount, 'svg-theme': selectedAccount}" data-uie-name="go-account">
        <profile-icon class="left-column-icon"></profile-icon>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesAccount"></div>
      </li>
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnDevices, css: {'text-theme': selectedDevices}" data-uie-name="go-devices">
        <devices-icon class="left-column-icon"></devices-icon>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesDevices"></div>
      </li>
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnOptions, css: {'text-theme': selectedOptions}" data-uie-name="go-options">
        <div class="left-column-icon icon-options"></div>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesOptions"></div>
      </li>
      <!-- ko if: z.calling.CallingRepository.supportsCalling -->
        <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAV, css: {'text-theme': selectedAV}" data-uie-name="go-audio-video">
          <div class="left-column-icon icon-av"></div>
          <div class="center-column" data-bind="l10n_text: z.string.preferencesAV"></div>
        </li>
      <!-- /ko -->
      <!-- ko ifnot: z.util.Environment.desktop -->
        <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAbout, css: {'text-theme': selectedAbout}" data-uie-name="go-about">
          <div class="left-column-icon icon-wire"></div>
          <div class="center-column" data-bind="l10n_text: z.string.preferencesAbout"></div>
        </li>
      <!-- /ko -->
    </ul>
  </div>
</div>

            <div id="start-ui" data-bind="with: $root.start">
  <div class="left-list-header left-list-header-start-ui">
    <span class="left-list-header-text" data-bind="text: teamName" data-uie-name="status-team-name-search"></span>
    <span class="left-list-header-close-button button-icon-large icon-close" data-bind="clickOrDrag: clickOnClose, l10n_tooltip: z.string.tooltipSearchClose" data-uie-name="do-close"></span>
  </div>
  <div id="start-ui-header" class="start-ui-header border-theme" data-bind="css: {'start-ui-header-integrations': isTeam()}">
    <user-input class="start-ui-header-user-input"
                params="input: searchInput, placeholder: z.string.searchPlaceholder, enter: handleSearchInput"
                data-uie-name="enter-search">
    </user-input>
    <!-- ko if: isTeam() -->
      <div class="start-ui-list-tabs">
        <div class="start-ui-list-tab" data-bind="click: clickOnShowPeople, css: {'active' : peopleTabActive()}, l10n_text: z.string.searchPeople" data-uie-name="do-add-people"></div>
        <div class="start-ui-list-tab" data-bind="click: clickOnShowServices, css: {'active' : !peopleTabActive()}, l10n_text: z.string.searchServices" data-uie-name="do-add-services"></div>
      </div>
    <!-- /ko -->
  </div>

  <div class="left-list-center start-ui-list-wrapper" data-bind="css: {'split-view': showNoContacts()}">
    <div class="start-ui-list" data-bind="antiscroll: shouldUpdateScrollbar, bordered_list: teamName">
      <!-- ko if: showSpinner() -->
        <div class="start-ui-list-spinner">
          <span class="icon-spinner spin"></span>
        </div>
      <!-- /ko -->

      <!-- ko ifnot: showSpinner() -->
        <!-- ko if: peopleTabActive() -->
          <!-- ko if: showNoMatches() -->
            <div class="start-ui-no-contacts" data-bind="l10n_text: z.string.searchNoContactsOnWire"></div>
          <!-- /ko -->

          <!-- ko if: showNoSearchResults() -->
            <div class="start-ui-no-search-results" data-bind="l10n_text: z.string.searchTrySearch"></div>
          <!-- /ko -->

          <!-- ko ifnot: showSearchResults() -->
            <!-- ko if: showInviteMember() -->
              <ul class="start-ui-invite-people left-list-items">
                <li class="left-list-item left-list-item-clickable" data-bind="click: clickOpenManageTeam" data-uie-name="do-invite-member">
                  <div class="left-column-icon icon-envelope"></div>
                  <div class="center-column" data-bind="l10n_text: z.string.searchMemberInvite"></div>
                </li>
              </ul>
            <!-- /ko -->
            <ul class="start-ui-create-group left-list-items">
              <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnCreateGroup" data-uie-name="go-create-group">
                <group-icon class="left-column-icon"></group-icon>
                <div class="center-column" data-bind="l10n_text: z.string.searchCreateGroup"></div>
              </li>
            </ul>
            <!-- ko if: showCreateGuestRoom() -->
              <ul class="start-ui-create-guest-room left-list-items">
                <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnCreateGuestRoom" data-uie-name="do-create-guest-room">
                  <guest-icon class="left-column-icon"></guest-icon>
                  <div class="center-column" data-bind="l10n_text: z.string.searchCreateGuestRoom"></div>
                </li>
              </ul>
            <!-- /ko -->
            <!-- ko if: showTopPeople() -->
              <div class="start-ui-list-top-people" data-uie-name="status-top-people">
                <span class="start-ui-list-header start-ui-list-header-top-people" data-bind="l10n_text: z.string.searchTopPeople"></span>
                <top-people class="search-list-theme-black" params="users: topUsers, click: clickOnContact"></top-people>
              </div>
            <!-- /ko -->
            <!-- ko if: showContacts() -->
              <div class="start-ui-list-contacts" data-uie-name="status-contacts">
                <!-- ko if: isTeam() -->
                  <span class="start-ui-list-header start-ui-list-header-contacts" data-bind="l10n_text: z.string.searchContacts"></span>
                <!-- /ko -->
                <!-- ko ifnot: isTeam() -->
                  <span class="start-ui-list-header" data-bind="l10n_text: z.string.searchConnections"></span>
                <!-- /ko -->
                <user-list class="search-list-theme-black" params="user: contacts, click: clickOnContact, searchRepository: searchRepository"></user-list>
              </div>
            <!-- /ko -->
          <!-- /ko -->

          <!-- ko if: showSearchResults() -->
            <div class="start-ui-list-search-results">
              <div class="contacts" data-bind="visible: searchResults.contacts().length > 0">
                <!-- ko if: isTeam() -->
                  <span class="start-ui-list-header start-ui-list-header-contacts" data-bind="l10n_text: z.string.searchContacts"></span>
                <!-- /ko -->
                <!-- ko ifnot: isTeam() -->
                  <span class="start-ui-list-header start-ui-list-header-connections" data-bind="l10n_text: z.string.searchConnections"></span>
                <!-- /ko -->
                <user-list class="search-list-theme-black" params="user: searchResults.contacts, click: clickOnContact, searchRepository: searchRepository"></user-list>
              </div>
              <div class="start-ui-groups" data-bind="visible: searchResults.groups().length > 0">
                <!-- ko if: isTeam() -->
                  <span class="start-ui-list-header" data-bind="l10n_text: z.string.searchTeamGroups"></span>
                <!-- /ko -->
                <!-- ko ifnot: isTeam() -->
                  <span class="start-ui-list-header" data-bind="l10n_text: z.string.searchGroups"></span>
                <!-- /ko -->
                <group-list params="groups: searchResults.groups, click: clickOnConversation"></group-list>
              </div>
              <div class="others" data-bind="visible: searchResults.others().length > 0">
                <span class="start-ui-list-header" data-bind="l10n_text: z.string.searchOthers"></span>
                <user-list class="search-list-theme-black" params="user: searchResults.others, click: clickOnOther, mode: z.components.UserList.MODE.OTHERS, searchRepository: searchRepository"></user-list>
              </div>
            </div>
          <!-- /ko -->
        <!-- /ko -->

        <!-- ko ifnot: peopleTabActive() -->
          <!-- ko if: services().length -->
            <!-- ko if: isTeamManager() -->
              <ul class="start-ui-manage-services left-list-items">
                <li class="left-list-item left-list-item-clickable" data-bind="click: clickOpenManageServices" data-uie-name="go-manage-services">
                  <service-icon class="left-column-icon"></service-icon>
                  <div class="center-column" data-bind="l10n_text: z.string.searchManageServices"></div>
                </li>
              </ul>
            <!-- /ko -->
            <service-list params="services: services, click: clickOnOther, isSearching: isSearching, altStyle: true"></service-list>
          <!-- /ko -->
          <!-- ko if: !services().length && !isInitialServiceSearch() -->
            <div class="search__no-services">
              <service-icon class="search__no-services__icon"></service-icon>
              <!-- ko if: isTeamManager() -->
                <div class="search__no-services__info" data-bind="l10n_text: z.string.searchNoServicesManager" data-uie-name="label-no-services-enabled-manager"></div>
                <div class="search__no-services__manage-button" data-bind="click: clickOpenManageServices, l10n_text: z.string.searchManageServicesNoResults" data-uie-name="go-enable-services"></div>
              <!-- /ko -->
              <!-- ko ifnot: isTeamManager() -->
                <div class="search__no-services__info" data-bind="l10n_text: z.string.searchNoServicesMember" data-uie-name="label-no-services-enabled"></div>
              <!-- /ko -->
            </div>
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
    </div>
  </div>

  <!-- ko if: showNoContacts() -->
    <div class="start-ui-import-container">
      <div>
        <h1 class="start-ui-import-headline" data-bind="l10n_text: z.string.searchInviteHeadline"></h1>
        <!-- ko if: window.wAddressBook -->
          <div class="start-ui-import-buttons" data-bind="click: clickOnImportContacts" data-uie-name="from-contacts">
            <div class="start-ui-import-buttons-icon icon-contacts"></div>
            <span class="label-bold-xs" data-bind="l10n_text: z.string.searchInviteButtonContacts"></span>
          </div>
        <!-- /ko -->
        <div class="start-ui-import-buttons" data-bind="click: clickOnImportGmail" data-uie-name="from-gmail">
          <svg class="start-ui-import-buttons-icon">
            <use xlink:href="#icon-gmail"></use>
          </svg>
          <span class="label-bold-xs" data-bind="l10n_text: z.string.searchInviteButtonGmail"></span>
        </div>
        <div class="start-ui-import-detail" data-bind="l10n_text: z.string.searchInviteDetail"></div>
      </div>
    </div>
  <!-- /ko -->

  <!-- ko if: showInvitePeople() -->
    <div class="start-ui-import" id="invite-button" data-bind="click: clickToShowInviteBubble" data-bubble="#invite-bubble" data-placement="top">
      <span class="icon-invite start-ui-import-icon"></span>
      <span data-bind="l10n_text: z.string.searchInvite"></span>
    </div>
  <!-- /ko -->

  <!-- ko if: userProfile() -->
    <div id="start-ui-user-bubble" class="start-ui-user-bubble bubble" data-bind="css: additionalBubbleClasses">
      <!-- ko ifnot: userProfileIsService() -->
        <user-profile params="user: userProfile,
                              accept: clickToAcceptInvite,
                              connect: clickToSendRequest,
                              ignore: clickToIgnoreInvite,
                              unblock: clickToUnblock"></user-profile>
      <!-- /ko -->

      <!-- ko if: userProfileIsService() -->
        <div class="start-ui-service">
          <div class="start-ui-service-body">
            <div class="start-ui-service-details">
              <!-- ko if: renderAvatar() -->
                <participant-avatar params="participant: userProfile, size: z.components.ParticipantAvatar.SIZE.LARGE"></participant-avatar>
              <!-- /ko -->
              <div class="start-ui-service-details-content">
                <div class="start-ui-service-name" data-bind="text: userProfile().name" data-uie-name="status-service-name"></div>
                <div class="start-ui-service-provider" data-bind="text: userProfile().providerName()" data-uie-name="status-service-provider"></div>
              </div>
            </div>

            <div class="start-ui-service-description" data-bind="text: userProfile().description" data-uie-name="status-service-description"></div>
          </div>

          <div class="start-ui-service-footer">
            <button class="start-ui-service-button" data-bind="click: clickToOpenService, l10n_text: z.string.searchServiceConfirmButton" data-uie-name="do-service-confirm"></button>
          </div>
        </div>
      <!-- /ko -->
    </div>
  <!-- /ko -->

  <div id="invite-bubble" class="invite-bubble bubble">
    <div class="invite-bubble-inner">
      <!-- ko if: showInviteForm() -->
        <div class="invite-bubble-link">
          <div class="invite-content">
            <div class="invite-header" data-bind="l10n_text: z.string.inviteHeadline"></div>
            <div class="invite-link-box">
              <div class="bg bg-theme"></div>
              <textarea data-bind="value: inviteMessage" class="message" dir="auto"></textarea>
            </div>
          </div>
          <div class="invite-footer" data-bind="text: inviteHint"></div>
        </div>
        <div class="invite-bubble-button" data-bind="click: clickToCloseGenericInvite, l10n_text: z.string.searchInviteShare" data-uie-name="go-import-form"></div>
      <!-- /ko -->

      <!-- ko ifnot: showInviteForm() -->
        <div class="invite-bubble-link">
          <div class="invite-content">
            <h1 class="invite-header" data-bind="l10n_text: z.string.searchInviteHeadline"></h1>
            <!-- ko if: window.wAddressBook -->
              <div class="start-ui-import-buttons" data-bind="click: clickOnImportContacts" data-uie-name="do-contacts-import">
                <div class="start-ui-import-buttons-icon icon-contacts"></div>
                <span class="label-bold-xs" data-bind="l10n_text: z.string.searchInviteButtonContacts"></span>
              </div>
            <!-- /ko -->
            <div class="start-ui-import-buttons" data-bind="click: clickOnImportGmail" data-uie-name="do-google-import">
              <svg class="start-ui-import-buttons-icon">
                <use xlink:href="#icon-gmail"></use>
              </svg>
              <span class="label-bold-xs" data-bind="l10n_text: z.string.searchInviteButtonGmail"></span>
            </div>
            <div class="start-ui-import-detail" data-bind="l10n_text: z.string.searchInviteDetail"></div>
          </div>
        </div>
        <div class="invite-bubble-button" data-bind="click: clickToShowGenericInvite, l10n_text: z.string.searchInvite" data-uie-name="go-invite-form"></div>
      <!-- /ko -->
    </div>
  </div>
</div>

          <!-- /ko -->
          <!-- ko if: modal() === z.viewModel.ListViewModel.MODAL_TYPE.TAKEOVER -->
            <div id="takeover" class="takeover" data-bind="with: $root.takeover">
  <div class="takeover-names">
    <span class="takeover-names-name" data-bind="text: name" data-uie-name="takeover-name"></span>
    <span class="takeover-names-username label-username" data-bind="text: username" data-uie-name="takeover-username"></span>
  </div>
  <div class="takeover-actions">
    <span class="takeover-actions-sub" data-bind="l10n_text: z.string.takeoverSub"></span>
    <a class="takeover-actions-link text-white" data-bind="attr: {href: z.util.URLUtil.buildUrl(z.util.URLUtil.TYPE.WEBSITE, z.config.URL_PATH.SUPPORT_USERNAME)}, l10n_text: z.string.takeoverLink" rel="nofollow noopener noreferrer" target="_blank"></a>
    <button class="button button-fluid" data-bind="click: chooseUsername, l10n_text: z.string.takeoverButtonChoose" data-uie-name="do-takeover-choose"></button>
    <button class="button button-fluid button-inverted text-white" data-bind="click: keepUsername, l10n_text: z.string.takeoverButtonKeep" data-uie-name="do-takeover-keep"></button>
  </div>
</div>

          <!-- /ko -->
          <!-- ko if: modal() === z.viewModel.ListViewModel.MODAL_TYPE.TEMPORARY_GUEST -->
            <div id="temporary-guest" class="temporary-guest left-list left-list-is-visible" data-bind="with: $root.temporaryGuest">
  <!-- ko foreach: callConversations -->
    <conversation-list-calling-cell
      class="temporary-user-style"
      data-bind="attr: {'data-uie-uid': $data.id, 'data-uie-value': $data.display_name}"
      params="conversation: $data, callingRepository: $parent.callingRepository, permissionRepository: $parent.permissionRepository, multitasking: $parent.multitasking, temporaryUserStyle: true, videoGridRepository: $parent.videoGridRepository"
      data-uie-name="item-call"></conversation-list-calling-cell>
  <!-- /ko -->
  <div class="temporary-guest__content">
    <wire-logo></wire-logo>
    <div class="temporary-guest__description" data-bind="l10n_text: z.string.temporaryGuestDescription"></div>
    <div class="temporary-guest__create-account" data-bind="click: clickToCreateAccount, l10n_text: z.string.temporaryGuestCta" data-uie-name="do-create-account"></div>
  </div>
  <div class="temporary-guest__footer">
    <span class="temporary-guest__footer__info-text">
      <span class="temporary-guest__footer__info-text__time" data-bind="text: selfUser().expirationRemainingText, css: {'temporary-guest__footer__info-text__time--urgent': selfUser().expirationIsUrgent}" data-uie-name="status-expiration-time"></span>
      <span data-bind="l10n_text: z.string.temporaryGuestTimeRemaining"></span>
    </span>
    <settings-icon  class="temporary-guest__footer__preferences" data-bind="click: clickOnPreferencesButton, l10n_tooltip: z.string.tooltipConversationsPreferences" data-uie-name="go-preferences"></settings-icon>
  </div>
</div>

            <div id="preferences" class="left-list left-list-preferences" data-bind="with: $root.preferences">
  <div class="left-list-header">
    <span class="left-list-header-text" data-bind="l10n_text: z.string.preferencesHeadline"></span>
    <span class="left-list-header-close-button button-icon-large icon-close" data-bind="clickOrDrag: clickOnClosePreferences, l10n_tooltip: z.string.tooltipSearchClose" data-uie-name="do-close-preferences"></span>
  </div>
  <div class="left-list-center">
    <ul class="left-list-items preferences-list-items">
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAccount, css: {'text-theme': selectedAccount, 'svg-theme': selectedAccount}" data-uie-name="go-account">
        <profile-icon class="left-column-icon"></profile-icon>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesAccount"></div>
      </li>
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnDevices, css: {'text-theme': selectedDevices}" data-uie-name="go-devices">
        <devices-icon class="left-column-icon"></devices-icon>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesDevices"></div>
      </li>
      <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnOptions, css: {'text-theme': selectedOptions}" data-uie-name="go-options">
        <div class="left-column-icon icon-options"></div>
        <div class="center-column" data-bind="l10n_text: z.string.preferencesOptions"></div>
      </li>
      <!-- ko if: z.calling.CallingRepository.supportsCalling -->
        <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAV, css: {'text-theme': selectedAV}" data-uie-name="go-audio-video">
          <div class="left-column-icon icon-av"></div>
          <div class="center-column" data-bind="l10n_text: z.string.preferencesAV"></div>
        </li>
      <!-- /ko -->
      <!-- ko ifnot: z.util.Environment.desktop -->
        <li class="left-list-item left-list-item-clickable" data-bind="click: clickOnAbout, css: {'text-theme': selectedAbout}" data-uie-name="go-about">
          <div class="left-column-icon icon-wire"></div>
          <div class="center-column" data-bind="l10n_text: z.string.preferencesAbout"></div>
        </li>
      <!-- /ko -->
    </ul>
  </div>
</div>

          <!-- /ko -->
        <!-- /ko -->
      </div>
      <div id="center-column" class="center-column">
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.CONNECTION_REQUESTS -->
          <div class="connect-request-wrapper">
  <div id="connect-requests" class="connect-requests" data-bind="with: $root.connectRequests, antiscroll: $root.connectRequests.shouldUpdateScrollbar">
    <div class="connect-requests-inner" data-bind="foreach: {data: connectRequests, afterRender: afterRender}">
      <div class="connect-request" data-bind="attr: {'data-uie-uid': id}" data-uie-name="connect-request">
        <div class="connect-request-name ellipsis" data-bind="text: name()"></div>
        <div class="connect-request-username label-username" data-bind="text: username()"></div>
        <participant-avatar class="connect-request-avatar avatar-no-badge avatar-no-filter cursor-default" params="participant: $data, size: z.components.ParticipantAvatar.SIZE.X_LARGE"></participant-avatar>
        <div class="button-group">
          <div class="button button-inverted" data-bind="click: $parent.clickOnIgnore, l10n_text: z.string.connectionRequestIgnore" data-uie-name="do-ignore"></div>
          <div class="button" data-bind="click: $parent.clickOnAccept, l10n_text: z.string.connectionRequestConnect" data-uie-name="do-accept"></div>
        </div>
      </div>
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.CONVERSATION -->
          <div id="conversation" class="conversation" data-bind="drop_file: $root.inputBar.onDropFiles">
  <!-- ko if: $root.conversationRepository.active_conversation() -->
    <!-- ko ifnot: $root.conversationRepository.active_conversation().is_loaded() -->
      <div class="conversation-loading">
        <div class="icon-spinner spin text-theme"></div>
      </div>
    <!-- /ko -->

    <!-- ko if: $root.conversationRepository.active_conversation().is_loaded() -->
      <div id="conversation-title-bar" class="conversation-title-bar" data-bind="with: $root.titleBar">
  <!-- ko if: conversationEntity() -->
    <div class="conversation-title-bar-library">
      <!-- ko if: isActivatedAccount() -->
        <span class="conversation-title-bar-icon button-icon-large icon-search"
              data-bind="clickOrDrag: clickOnCollectionButton, l10n_tooltip: z.string.tooltipConversationSearch"
              data-uie-name="do-collections"></span>
      <!-- /ko -->
    </div>

    <div id="show-participants"
          data-bind="clickOrDrag: clickOnDetails, attr: {'title': peopleTooltip}"
          data-placement="bottom"
          data-uie-name="do-participants"
          class="conversation-title-bar-name">
      <!-- ko if: conversationEntity().verification_state() === z.conversation.ConversationVerificationState.VERIFIED -->
        <verified-icon class="conversation-title-bar-name--verified"></verified-icon>
      <!-- /ko -->
      <span class="conversation-title-bar-name-label" data-bind="text: conversationEntity().display_name()" data-uie-name="status-conversation-title-bar-label"></span>
    </div>

    <div class="conversation-title-bar-icons">
      <!-- ko if: showCallControls() -->
        <!-- ko if: supportsVideoCall() -->
          <camera-icon class="conversation-title-bar-icon"
                data-bind="clickOrDrag: clickOnVideoButton, l10n_tooltip: z.string.tooltipConversationVideoCall"
                data-uie-name="do-video-call">
          </camera-icon>
        <!-- /ko -->
        <pickup-icon class="conversation-title-bar-icon"
              data-bind="clickOrDrag: clickOnCallButton, l10n_tooltip: z.string.tooltipConversationCall"
              data-uie-name="do-call">
        </pickup-icon>
      <!-- /ko -->
      <info-icon class="conversation-title-bar-icon" data-bind="clickOrDrag: clickOnDetails, css: {'conversation-title-bar-icon--active': panelIsVisible()}" data-uie-name="do-open-info"></info-icon>
    </div>

    <!-- ko if: badgeLabelCopy() -->
      <div class="conversation-title-bar-indication-badge" data-bind="text: badgeLabelCopy" data-uie-name="status-indication-badge"></div>
    <!-- /ko -->
  <!-- /ko -->
</div>

       <div id="message-list" class="message-list" data-bind="with: $root.messageList, show_all_timestamps: true">
   <div class="messages-wrap" data-bind="antiscroll, event: {scroll: on_scroll}">
     <div class="messages"
          data-bind="css: {'flex-center': verticallyCenterMessage},
                     foreach: {data: conversation().messages_visible, as: 'message'}">
      <div class="message"
           data-bind="css: {'message-marked': message.equals($parent.marked_message())},
                      in_viewport: $parent.getInViewportCallback(message),
                      attr: {'data-uie-uid': message.id, 'data-uie-value': message.super_type, 'data-uie-expired-status': message.ephemeral_expires, 'data-uie-send-status': message.status}"
           data-uie-name="item-message">
        <div data-bind="template: {name: 'timestamp'}"></div>
        <div data-bind="template: {name: message.super_type}"></div>
      </div>
     </div>
   </div>
</div>

      <!--@formatter:off-->
<div id="conversation-input-bar"
     class="conversation-input-bar"
     data-bind="with: $root.inputBar,
                css: {'conversation-input-bar-editing': $root.inputBar.isEditing()}">

  <!-- ko if: conversationEntity() && !conversationEntity().connection().isOutgoingRequest() -->
    <div class="controls-left">
      <!-- ko if: input().length -->
        <participant-avatar class="cursor-default" params="participant: selfUser, size: z.components.ParticipantAvatar.SIZE.X_SMALL"></participant-avatar>
      <!-- /ko -->
    </div>

    <!-- ko if: !conversationEntity().removed_from_conversation() -->
      <div class="controls-center" data-bind="template: {afterRender: setElements}">
        <textarea id="conversation-input-bar-text"
                  class="conversation-input-bar-text border-theme"
                  data-bind="event: {'keydown': onInputKeyDown, 'keyup': onInputKeyUp, 'select click': handleMentionFlow, 'input': updateMentions},
                             focus_on_keydown: true,
                             enter: onInputEnter,
                             hasFocus: hasFocus,
                             textInput: input,
                             click: onInputClick,
                             attr: {'placeholder': inputPlaceholder},
                             css: {'conversation-input-bar-text--accent': hasLocalEphemeralTimer()},
                             paste_file: onPasteFiles"
                  data-uie-name="input-message"
                  dir="auto">
        </textarea>
        <div class="shadow-input" data-bind="html: richTextInput,
                                             scrollSync: '#conversation-input-bar-text',
                                             heightSync: {target: '#conversation-input-bar-text', trigger: richTextInput, callback: scrollMessageList}"
             data-uie-name="input-message-rich-text" dir="auto"></div>
      </div>
      <mention-suggestions params="suggestions: mentionSuggestions, targetInputSelector: '#conversation-input-bar-text', onSelectionValidated: addMention"></mention-suggestions>

      <div class="controls-right">
        <!-- ko ifnot: isEditing() -->
          <!-- ko if: showGiphyButton() -->
            <gif-icon class="controls-right-button button-icon-large"
                  data-bind="click: clickToShowGiphy, l10n_tooltip: z.string.extensionsBubbleButtonGif"
                  data-uie-name="do-giphy-popover">
            </gif-icon>
          <!-- /ko -->

          <!-- ko ifnot: input().length -->
            <message-timer-button params="conversation: conversationEntity"></message-timer-button>

            <label id="conversation-input-bar-photo" class="controls-right-button button-icon-large">
              <image-icon></image-icon>
              <input data-bind="attr: {accept: z.viewModel.content.InputBarViewModel.CONFIG.IMAGE.FILE_TYPES.join(',')}, file_select: uploadImages" type="file" multiple="multiple" data-uie-name="do-share-image"/>
            </label>

            <label id="conversation-input-bar-files" class="controls-right-button button-icon-large" data-bind="l10n_title: z.string.tooltipConversationFile">
              <attachment-icon></attachment-icon>
              <input data-bind="file_select: uploadFiles" type="file" multiple="multiple"
                       accept="*" data-uie-name="do-share-file"/>
            </label>

            <span class="controls-right-button button-icon-large"
                  data-bind="click: clickToPing, attr: {'title': pingTooltip}, css:{'disabled': pingDisabled}"
                  data-uie-name="do-ping">
              <ping-icon></ping-icon>
            </span>
          <!-- /ko -->
        <!-- /ko -->

        <!-- ko if: isEditing() -->
          <span class="controls-right-button button-icon-large"
                data-bind="click: cancelMessageEditing"
                data-uie-name="do-cancel-edit">
            <close-icon></close-icon>
          </span>
        <!-- /ko -->
      </div>
    <!-- /ko -->
  <!-- /ko -->

  <!-- ko if: pastedFile() -->
    <div class="conversation-input-bar-paste-modal">
      <div class="controls-left"></div>
      <div class="controls-center">
        <!-- ko if: pastedFilePreviewUrl() -->
          <img class="conversation-input-bar-paste-image conversation-input-bar-paste-icon" data-bind="attr: {'src': pastedFilePreviewUrl()}">
        <!-- /ko -->
        <!-- ko ifnot: pastedFilePreviewUrl() -->
          <span class="conversation-input-bar-paste-icon">
            <file-icon></file-icon>
          </span>
        <!-- /ko -->
        <span data-bind="text: pastedFileName"></span>
      </div>
      <div class="controls-right">
        <span class="conversation-input-bar-paste-cancel button-icon-large" data-bind="click: clickToCancelPastedFile">
          <close-icon></close-icon>
        </span>
        <span class="conversation-input-bar-paste-send bg-theme" data-bind="click: sendPastedFile">
          <send-icon></send-icon>
        </span>
      </div>
    </div>
  <!-- /ko -->
</div>
<!--@formatter:on-->

      <div id="giphy-modal" data-bind="with: $root.giphy" class="giphy-modal modal modal-large">
  <div class="modal-content">
    <div class="giphy-modal-header modal-header">
      <!-- ko if: isStateResult() -->
        <span class="button-icon icon-grid" data-bind="click: clickOnGrid"></span>
      <!-- /ko -->
      <!-- ko if: isStateResults() -->
        <span class="button-icon icon-back" data-bind="click: clickOnBack" data-uie-name="do-close"></span>
      <!-- /ko -->
      <!-- ko ifnot: isResultState() -->
        <span class="giphy-modal-header-button"></span>
      <!-- /ko -->
      <span class="label-xs" data-bind="text: query" data-uie-name="giphy-query"></span>
      <span class="button-icon icon-close pull-right" data-bind="click: clickOnClose" data-uie-name="do-close"></span>
    </div>
    <div class="giphy-modal-center modal-center">
      <div class="gif-container-spinner" data-bind="visible: isStateLoading()">
        <div class="icon-spinner spin"></div>
      </div>
      <div class="gif-container"
           data-bind="foreach: gifs, visible: isResultState(), css: {'gif-container-grid': gifs().length > 1}">
        <!-- ko if: $parent.gifs().length === 1 -->
          <div class="gif-container-item"
               data-bind="loadImage: $data.animated, style: {backgroundImage: 'url(\'' + $data.static + '\')'}">
          </div>
        <!-- /ko -->
        <!-- ko if: $parent.gifs().length > 1 -->
          <div class="gif-container-item"
               data-bind="click: $parent.clickToSelectGif,
                          style: {backgroundImage: 'url(\'' + $data.static + '\')'},
                          attr: {'data-src': $data.static, 'data-hover': $data.animated},
                          load_image_on_hover: true,">
          </div>
        <!-- /ko -->
      </div>
      <div class="gif-container-error" data-bind="visible: isStateError()">
        <span class="gif-container-error-message" data-bind="l10n_text: z.string.extensionsGiphyNoGifs"></span>
      </div>
    </div>
    <div class="giphy-modal-footer modal-footer">
      <div class="button button-inverted"
           data-bind="click: clickOnTryAnother, l10n_text: z.string.extensionsGiphyButtonMore, css: {'button-disabled': gifs().length === 0}"
           data-uie-name="do-try-another"></div>
      <div class="button"
           data-bind="click: clickToSend, l10n_text: z.string.extensionsGiphyButtonOk, css: {'button-disabled': !selectedGif()}"
           data-uie-name="do-send-gif"></div>
    </div>
  </div>
</div>

    <!-- /ko -->
  <!-- /ko -->
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.COLLECTION -->
          <div id="collection"
     class="collection content"
     data-bind="with: $root.collection, added_to_view: $root.collection.addedToView, removed_from_view: $root.collection.removedFromView">

  <!-- ko if: conversationEntity() -->
    <div class="content-titlebar">
      <div class="content-titlebar-items-left">
        <span class="content-titlebar-icon icon-close" data-bind="click: clickOnBackButton"></span>
      </div>
      <span class="content-titlebar-items-center" data-bind="text: conversationEntity().display_name()"></span>
    </div>

    <div class="content-list-wrapper">
      <div class="content-list collection-list" data-bind="antiscroll: true">

        <full-search params="search_provider: searchInConversation, change: onInputChange, click: clickOnMessage"></full-search>

        <!-- ko ifnot: searchInput().length -->
          <!-- ko if: images().length -->
            <section class="collection-section" data-bind="attr: {'data-uie-collection-size': images().length}" data-uie-name="collection-section-image">
              <header>
                <span class="collection-header-icon icon-library"></span>
                <span class="label-bold-xs" data-bind="l10n_text: z.string.collectionSectionImages"></span>
                <!-- ko if: images().length > 12 -->
                  <span class="collection-header-all text-theme" data-bind="click: function() { clickOnSection('images', images()) }"><span data-bind="l10nSafeHtml: {'id': z.string.collectionShowAll, 'substitutions': images().length}" data-uie-name="collection-show-all"></span>&nbsp;<span class="icon-forward font-size-xxs"></span></span>
                <!-- /ko -->
              </header>
              <div class="collection-images" data-bind="foreach: {data: images.slice(0, 12), as: 'messageEntity'}">
                <image-component class="collection-image" params="asset: messageEntity.get_first_asset().resource, click: function() {$parent.clickOnImage(messageEntity)}"></image-component>
              </div>
            </section>
          <!-- /ko -->

          <!-- ko if: links().length -->
            <section class="collection-section" data-bind="attr: {'data-uie-collection-size': links().length}" data-uie-name="collection-section-link">
              <header>
                <span class="collection-header-icon icon-link"></span>
                <span class="label-bold-xs" data-bind="l10n_text: z.string.collectionSectionLinks"></span>
                <!-- ko if: links().length > 4 -->
                  <span class="collection-header-all text-theme" data-bind="click: function() { clickOnSection('links', links()) }"><span data-bind="l10nSafeHtml: {'id': z.string.collectionShowAll, 'substitutions': links().length}" data-uie-name="collection-show-all"></span>&nbsp;<span class="icon-forward font-size-xxs"></span></span>
                <!-- /ko -->
              </header>
              <div class="collection-images" data-bind="foreach: {data: links.slice(0, 4), as: 'messageEntity'}">
                <link-preview-asset params="message: messageEntity, header: true"></link-preview-asset>
              </div>
            </section>
          <!-- /ko -->

          <!-- ko if: audio().length -->
            <section class="collection-section" data-bind="attr: {'data-uie-collection-size': audio().length}" data-uie-name="collection-section-audio">
              <header>
                <span class="collection-header-icon icon-microphone"></span>
                <span class="label-bold-xs" data-bind="l10n_text: z.string.collectionSectionAudio"></span>
                <!-- ko if: audio().length > 4 -->
                  <span class="collection-header-all text-theme" data-bind="click: function() { clickOnSection('audio', audio()) }"><span data-bind="l10nSafeHtml: {'id': z.string.collectionShowAll, 'substitutions': audio().length}" data-uie-name="collection-show-all"></span>&nbsp;<span class="icon-forward font-size-xxs"></span></span>
                <!-- /ko -->
              </header>
              <div class="collection-images" data-bind="foreach: {data: audio.slice(0, 4), as: 'messageEntity'}">
                <audio-asset class="collection-file" params="message: messageEntity, header: true"></audio-asset>
              </div>
            </section>
          <!-- /ko -->

          <!-- ko if: files().length -->
            <section class="collection-section" data-bind="attr: {'data-uie-collection-size': files().length}" data-uie-name="collection-section-file">
              <header>
                <span class="collection-header-icon icon-file"></span>
                <span class="label-bold-xs" data-bind="l10n_text: z.string.collectionSectionFiles"></span>
                <!-- ko if: files().length > 4 -->
                  <span class="collection-header-all text-theme" data-bind="click: function() { clickOnSection('files', files()) }"><span data-bind="l10nSafeHtml: {'id': z.string.collectionShowAll, 'substitutions': files().length}" data-uie-name="collection-show-all"></span>&nbsp;<span class="icon-forward font-size-xxs"></span></span>
                <!-- /ko -->
              </header>
              <div class="collection-images" data-bind="foreach: {data: files.slice(0, 4), as: 'messageEntity'}">
                <file-asset class="collection-file" params="message: messageEntity, header: true"></file-asset>
              </div>
            </section>
          <!-- /ko -->
        <!-- /ko -->

      </div>
    </div>
  <!-- /ko -->

</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.COLLECTION_DETAILS -->
          <div id="collection-details"
     class="collection-details content"
     data-bind="with: $root.collectionDetails, removed_from_view: $root.collectionDetails.removedFromView">

  <!-- ko if: conversationEntity() -->
    <div class="content-titlebar">
      <div class="content-titlebar-items-left">
        <span class="content-titlebar-icon icon-back" data-bind="click: clickOnBackButton" data-uie-name="do-collection-details-close"></span>
      </div>
      <span class="content-titlebar-items-center" data-bind="text: conversationEntity().display_name()" data-uie-name="collection-details-conversation-name"></span>
    </div>

    <div class="content-list-wrapper">
      <div class="content-list collection-list" data-bind="antiscroll: true">
        <div class="collection-images" data-bind="foreach: {data: items(), as: 'messageEntity'}">
          <!-- ko if: $parent.shouldShowHeader(messageEntity) -->
            <header class="collection-date-separator" data-bind="text: $parent.getTitleForHeader(messageEntity)"></header>
          <!-- /ko -->
          <!-- ko if: messageEntity.category & z.message.MessageCategory.IMAGE -->
            <image-component class="collection-image" params="asset: messageEntity.get_first_asset().resource, click: function() {$parent.clickOnImage(messageEntity)}"></image-component>
          <!-- /ko -->
          <!-- ko if: messageEntity.category & z.message.MessageCategory.LINK -->
            <link-preview-asset params="message: messageEntity, header: true"></link-preview-asset>
          <!-- /ko -->
          <!-- ko if: messageEntity.get_first_asset().is_file() -->
            <file-asset class="collection-file" params="message: messageEntity, header: true"></file-asset>
          <!-- /ko -->
          <!-- ko if: messageEntity.get_first_asset().is_audio() -->
            <audio-asset class="collection-file" params="message: messageEntity, header: true"></audio-asset>
          <!-- /ko -->
        </div>
      </div>
    </div>
  <!-- /ko -->

</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.HISTORY_EXPORT -->
          <div id="history-export" data-bind="with: $root.historyExport">
  <!-- ko if: isPreparing -->
    <loading-bar params="progress: loadingProgress, message: loadingMessage"></loading-bar>
  <!-- /ko -->
  <!-- ko if: isExporting -->
    <loading-bar params="progress: loadingProgress, message: loadingMessage" class="with-cancel"></loading-bar>
    <div class="cancel-button text-theme" data-bind="click: onCancel, l10n_text: z.string.backupCancel" data-uie-name="do-cancel-history-export"></div>
  <!-- /ko -->
  <!-- ko if: isDone -->
    <div class="history-message">
      <div class="history-message__headline" data-bind="l10n_text: z.string.backupExportSuccessHeadline" data-uie-name="status-history-export-success-headline"></div>
      <div class="history-message__info" data-bind="l10n_text: z.string.backupExportSuccessSecondary" data-uie-name="status-history-export-success-info"></div>
      <div class="history-message__buttons">
        <button class="button" data-bind="click: downloadArchiveFile, l10n_text: z.string.backupExportSaveFileAction" data-uie-name="do-save-history-export"></button>
      </div>
    </div>
    <div class="cancel-button text-theme" data-bind="click: dismissExport, l10n_text: z.string.backupCancel" data-uie-name="do-cancel-history-export"></div>
  <!-- /ko -->
  <!-- ko if: hasError -->
    <div class="history-message" data-uie-name="status-history-export-error">
      <div class="history-message__headline" data-bind="l10n_text: z.string.backupExportGenericErrorHeadline" data-uie-name="status-history-export-error-headline"></div>
      <div class="history-message__info" data-bind="l10n_text: z.string.backupExportGenericErrorSecondary" data-uie-name="status-history-export-error-info"></div>
      <div class="history-message__buttons">
        <button class="button button-inverted" data-bind="l10n_text: z.string.backupTryAgain, click: onTryAgain" data-uie-name="do-try-again-history-export-error"></button>
        <button class="button" data-bind="l10n_text: z.string.backupCancel, click: dismissExport" data-uie-name="do-dismiss-history-export-error"></button>
      </div>
    </div>
  <!-- /ko -->
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.HISTORY_IMPORT -->
          <div id="history-import" data-bind="with: $root.historyImport">
  <!-- ko if: isPreparing -->
    <loading-bar params="progress: loadingProgress, message: loadingMessage"></loading-bar>
  <!-- /ko -->
  <!-- ko if: isImporting -->
    <loading-bar params="progress: loadingProgress, message: loadingMessage" class="with-cancel"></loading-bar>
    <div class="cancel-button text-theme" data-bind="click: onCancel, l10n_text: z.string.backupCancel" data-uie-name="do-cancel-history-import"></div>
  <!-- /ko -->
  <!-- ko if: isDone -->
    <div class="history-message">
      <check-icon></check-icon>
      <div class="history-message__headline" data-bind="l10n_text: z.string.backupImportSuccessHeadline" data-uie-name="status-history-import-success"></div>
    </div>
  <!-- /ko -->
  <!-- ko if: error -->
    <div class="history-message">
      <div class="history-message__headline" data-bind="text: errorHeadline" data-uie-name="status-history-import-error-headline"></div>
      <div class="history-message__info" data-bind="text: errorSecondary" data-uie-name="status-history-import-error-info"></div>
      <div class="history-message__buttons">
        <button class="button" data-bind="l10n_text: z.string.backupCancel, click: dismissImport" data-uie-name="do-dismiss-history-import-error"></button>
      </div>
    </div>
  <!-- /ko -->
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_ABOUT -->
          <div id="preferences-about" class="preferences-page preferences-about" data-bind="with: $root.preferencesAbout">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesAbout"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll">
      <section class="preferences-section">
        <header class="preferences-header" data-bind="l10n_text: z.string.preferencesAboutSupport"></header>
        <a class="preferences-link" data-bind="l10n_href: {type: z.util.URLUtil.TYPE.SUPPORT, path: z.string.urlSupportRoot}, l10n_text: z.string.preferencesAboutSupportWebsite" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-support"></a>
        <a class="preferences-link" data-bind="l10n_href: {support: z.config.SUPPORT.FORM.CONTACT}, l10n_text: z.string.preferencesAboutSupportContact" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-contact-support"></a>
      </section>
      <section class="preferences-section">
        <header class="preferences-header" data-bind="l10n_text: z.string.wire"></header>
        <a class="preferences-link" data-bind="click: clickOnToU, l10n_text: z.string.preferencesAboutTermsOfUse" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-legal"></a>
        <a class="preferences-link" data-bind="l10n_href: {type: z.util.URLUtil.TYPE.WEBSITE, path: z.string.urlWebsitePrivacy}, l10n_text: z.string.preferencesAboutPrivacyPolicy" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-privacy"></a>
        <a class="preferences-link" data-bind="l10n_href: {type: z.util.URLUtil.TYPE.WEBSITE, path: z.string.urlWebsiteRoot}, l10n_text: z.string.preferencesAboutWebsite" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-wire-dot-com"></a>
      </section>
      <section class="preferences-section">
        <header class="preferences-header"><hr class="preferences-separator"></header>
        <div class="preferences-detail" data-bind="l10n_text: {id: z.string.preferencesAboutVersion, substitute: '{{config.CURRENT_VERSION_DATE}}'}"></div>
        <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesAboutCopyright"></div>
      </section>
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_ACCOUNT -->
          <div id="preferences-account" class="preferences-page preferences-account" data-bind="with: $root.preferencesAccount, removed_from_view: $root.preferencesAccount.removedFromView">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesAccount"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll">
      <section class="preferences-section preferences-section-account-profile">
        <div class="preferences-account-user-data" data-bind="css: {'preferences-account-user-data-temporary': !isActivatedAccount()}">
          <!-- ko if: isActivatedAccount() -->
            <div class="preferences-account-name-wrapper">
              <input class="preferences-account-name preferences-account-input"
                     id="name" type="text"
                     data-bind="value: name, event: {blur: resetNameInput}, enter: changeName, l10n_placeholder: z.string.preferencesAccountUsernamePlaceholder"
                     data-uie-name="enter-name"
                     maxlength="64"
                     spellcheck="false" />
              <span class="preferences-account-input-icon" data-bind="css: nameSaved() ? 'checkmark' : 'preferences-account-input-icon-edit'"></span>
            </div>

            <!-- ko if: isTeam() -->
              <availability-state class="preferences-account-availability"
                                  data-bind="click: clickOnAvailability"
                                  data-uie-name="status-availability-in-profile"
                                  params="availability: availability, label: availabilityLabel, showArrow: true">
              </availability-state>
            <!-- /ko -->

            <div class="preferences-account-username-wrapper">
              <span class="preferences-account-username-atsign">@</span>
              <input class="preferences-account-username preferences-account-input"
                     id="username" type="text"
                     data-bind="textInput: username, event: {input: verifyUsername, keypress: checkUsernameInput, blur: resetUsernameInput}, enter: changeUsername, hasFocus: shouldFocusUsername()"
                     data-uie-name="enter-username"
                     maxlength="21"
                     spellcheck="false"
                     autocomplete="off" />
              <span class="preferences-account-input-icon" data-bind="css: usernameSaved() ? 'checkmark' : 'preferences-account-input-icon-edit'"></span>
              <!-- ko ifnot: usernameState() -->
                <div class="preferences-account-username-hint text-graphite font-size-xs"
                     data-bind="l10n_text: z.string.preferencesAccountUsernameHint"></div>
              <!-- /ko -->
              <!-- ko if: usernameState() === z.viewModel.content.PreferencesAccountViewModel.USERNAME_STATE.AVAILABLE -->
                <div class="preferences-account-username-error font-size-xs"
                     data-bind="l10n_text: z.string.preferencesAccountUsernameAvailable"></div>
              <!-- /ko -->
              <!-- ko if: usernameState() === z.viewModel.content.PreferencesAccountViewModel.USERNAME_STATE.TAKEN -->
                <div class="preferences-account-username-error font-size-xs"
                     data-bind="l10n_text: z.string.preferencesAccountUsernameErrorTaken, css: {'text-red': submittedUsername() === enteredUsername()}"></div>
              <!-- /ko -->
            </div>

            <!-- ko if: isTeam() -->
              <div class="preferences-account-team preferences-section-account-space-after" data-bind="text: teamName()" data-uie-name="status-team"></div>
            <!-- /ko -->

            <div class="preferences-account-mail" data-bind="text: selfUser().email()" data-uie-name="enter-email"></div>
            <div class="preferences-account-phone" data-bind="text: selfUser().phone()" data-uie-name="enter-phone"></div>
            <accent-color-picker class="preferences-account-accent-color preferences-section-account-space-before" params="user: selfUser(), selected: changeAccentColor" data-uie-name="enter-accent-color"></accent-color-picker>
          <!-- /ko -->

          <!-- ko ifnot: isActivatedAccount() -->
            <div class="preferences-account-name-wrapper">
              <div class="preferences-account-name" data-bind="text: name" data-uie-name="status-name"></div>
            </div>
            <hr class="preferences-separator">
            <div class="preferences-link text-theme" data-bind="click: clickOnLeaveGuestRoom, l10n_text: z.string.preferencesAccountLeaveGuestRoom" data-uie-name="do-leave-guest-room"></div>
            <div class="preferences-leave-disclaimer" data-bind="l10n_text: z.string.preferencesAccountLeaveGuestRoomDescription"></div>
          <!-- /ko -->
        </div>

        <!-- ko if: isActivatedAccount() -->
          <label class="preferences-account-picture-button" for="self-upload-file-input" data-bind="l10n_tooltip: z.string.tooltipPreferencesPicture">
            <participant-avatar params="participant: selfUser, size: z.components.ParticipantAvatar.SIZE.X_LARGE"></participant-avatar>
            <input id="self-upload-file-input"
                  type="file"
                  data-bind="attr: {accept: z.viewModel.content.PreferencesAccountViewModel.CONFIG.PROFILE_IMAGE.FILE_TYPES.join(',')}, file_select: clickOnChangePicture"
                  data-uie-name="do-select-picture"/>
            <span class="icon-camera"></span>
          </label>
        <!-- /ko -->

        <!-- ko ifnot: isActivatedAccount() -->
          <div>
            <participant-avatar params="participant: selfUser, size: z.components.ParticipantAvatar.SIZE.X_LARGE"></participant-avatar>
          </div>
        <!-- /ko -->
      </section>

      <section class="preferences-section preferences-section-privacy">
        <hr class="preferences-separator">
        <header class="preferences-header" data-bind="l10n_text: z.string.preferencesAccountData"></header>
        <div class="preferences-option">
          <div class="preferences-option-icon checkbox text-theme" data-bind="attr: {'data-uie-value': optionPrivacy}" data-uie-name="status-preference-privacy">
            <input type="checkbox" id="privacy-checkbox" data-bind="checked: optionPrivacy">
            <label class="preferences-options-checkbox-label" for="privacy-checkbox" data-bind="l10n_text: z.string.preferencesAccountDataCheckbox"></label>
          </div>
        </div>
        <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesAccountDataDetail"></div>

        <!-- ko if: isActivatedAccount() -->
          <div class="preferences-option">
            <div class="preferences-option-icon checkbox text-theme" data-bind="attr: {'data-uie-value': optionMarketingConsent}" data-uie-name="status-preference-marketing">
              <input type="checkbox" id="marketing-checkbox" data-bind="checked: optionMarketingConsent">
              <label class="preferences-options-checkbox-label" for="marketing-checkbox" data-bind="l10n_text: z.string.preferencesAccountMarketingConsentCheckbox"></label>
            </div>
          </div>
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesAccountMarketingConsentDetail"></div>
        <!-- /ko -->
      </section>

      <!-- ko if: isActivatedAccount() -->
        <section class="preferences-section preferences-section-conversation-history">
          <hr class="preferences-separator">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsBackupHeader"></header>
          <div class="preferences-link text-theme" data-bind="click: clickOnBackupExport, l10n_text: z.string.preferencesOptionsBackupExportHeadline" data-uie-name="do-backup-export"></div>
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesOptionsBackupExportSecondary"></div>
          <label class="preferences-link text-theme preferences-history-backup-import-field" data-uie-name="do-backup-import">
            <span data-bind="l10n_text: z.string.preferencesOptionsBackupImportHeadline"></span>
            <input type="file" data-bind="event: {change: onImportFileChange}, attr: {accept: `.${z.viewModel.content.HistoryExportViewModel.CONFIG.FILE_EXTENSION}`}" data-uie-name="input-import-file"/>
          </label>
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesOptionsBackupImportSecondary"></div>
        </section>

        <section class="preferences-section preferences-section-account-security">
          <hr class="preferences-separator">

          <!-- ko if: isTeamManager() -->
            <div class="preferences-link text-theme" data-bind="click: clickOpenManageTeam, l10n_text: z.string.preferencesAccountManageTeam" data-uie-name="do-manage-team"></div>
          <!-- /ko -->

          <!-- ko ifnot: isMacOsWrapper -->
            <div class="preferences-link text-theme" data-bind="click: clickOpenCreateTeam, l10n_text: z.string.preferencesAccountCreateTeam" data-uie-name="do-create-team"></div>
          <!-- /ko -->

          <!-- ko ifnot: selfUser().isSingleSignOn -->
            <div class="preferences-link text-theme" data-bind="click: clickOnResetPassword, l10n_text: z.string.preferencesAccountResetPassword, l10n_tooltip: z.string.tooltipPreferencesPassword" data-uie-name="do-reset-password"></div>
          <!-- /ko -->

          <!-- ko ifnot: isTeam() -->
            <div class="preferences-link text-theme" data-bind="click: clickOnDeleteAccount, l10n_text: z.string.preferencesAccountDelete" data-uie-name="go-delete-account"></div>
          <!-- /ko -->
        </section>
      <!-- /ko -->

      <!-- ko if: isActivatedAccount() && !z.util.Environment.desktop -->
        <section class="preferences-section">
          <div class="preferences-link text-theme" data-bind="click: clickOnLogout, l10n_text: z.string.preferencesAccountLogOut" data-uie-name="do-logout"></div>
        </section>
      <!-- /ko -->
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_AV -->
          <div id="preferences-av" class="preferences-page preferences-av" data-bind="with: $root.preferencesAV">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesAV"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll">

      <!-- ko if: deviceSupport.audioInput() -->
        <section class="preferences-section">
          <header class="preferences-header preferences-av-header" data-bind="l10n_text: z.string.preferencesAVMicrophone"></header>
          <!-- ko if: permissionDenied() -->
            <div class="preferences-av-detail">
              <a rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_text: z.string.preferencesAVPermissionDetail, l10n_href: {support: z.config.SUPPORT.ID.DEVICE_ACCESS_DENIED}"></a>
            </div>
          <!-- /ko -->
          <div class="preferences-option" data-bind="css: {'preferences-av-select-disabled': permissionDenied}">
            <div class="preferences-option-icon preferences-av-select-icon">
              <div class="icon-microphone"></div>
            </div>
            <div class="input-select">
              <select class="preferences-av-select" name="select"
                      data-bind="attr: {'disabled': availableDevices.audioInput().length < 2 || permissionDenied},
                                 css: {'preferences-av-select-disabled': permissionDenied},
                                 options: availableDevices.audioInput,
                                 optionsText: function(item) {return item.label || z.string.preferencesAVMicrophone},
                                 optionsValue: 'deviceId',
                                 value: currentDeviceId.audioInput"
                      data-uie-name="enter-microphone">
              </select>
              <label class="icon-down preferences-av-label" data-bind="visible: availableDevices.audioInput().length >= 2"></label>
            </div>
          </div>
          <input-level class="preferences-av-meter text-theme" params="level: audioLevel, disabled: permissionDenied"></input-level>
        </section>
      <!-- /ko -->

      <!-- ko if: supportsAudioOutput() -->
        <section class="preferences-section">
          <header class="preferences-header preferences-av-header" data-bind="l10n_text: z.string.preferencesAVSpeakers"></header>
          <div class="preferences-option">
            <div class="preferences-option-icon preferences-av-select-icon">
              <div class="icon-speaker"></div>
            </div>
            <div class="input-select">
              <select class="preferences-av-select" name="select"
                      data-bind="enabled: availableDevices.audioOutput().length >= 2,
                                 options: availableDevices.audioOutput,
                                 optionsText: function(item) {return item.label || z.string.preferencesAVSpeakers},
                                 optionsValue: 'deviceId',
                                 value: currentDeviceId.audioOutput"
                      data-uie-name="enter-speaker">
              </select>
              <label class="icon-down preferences-av-label" data-bind="visible: availableDevices.audioOutput().length >= 2"></label>
            </div>
          </div>
        </section>
      <!-- /ko -->

      <!-- ko if: deviceSupport.videoInput() -->
        <section class="preferences-section">
          <header class="preferences-header preferences-av-header" data-bind="l10n_text: z.string.preferencesAVCamera"></header>
          <!-- ko if: permissionDenied() -->
            <div class="preferences-av-detail">
              <a rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_text: z.string.preferencesAVPermissionDetail, l10n_href: {support: z.config.SUPPORT.ID.DEVICE_ACCESS_DENIED}"></a>
            </div>
          <!-- /ko -->
          <div class="preferences-option" data-bind="css: {'preferences-av-select-disabled': permissionDenied()}">
            <div class="preferences-option-icon preferences-av-select-icon">
              <camera-icon></camera-icon>
            </div>
            <div class="input-select">
              <select class="preferences-av-select" name="select"
                      data-bind="attr: {'disabled': availableDevices.audioInput().length < 2 || permissionDenied()},
                                 css: {'preferences-av-select-disabled': permissionDenied()},
                                 options: availableDevices.videoInput,
                                 optionsText: function(item) {return item.label || z.string.preferencesAVCamera},
                                 optionsValue: 'deviceId',
                                 value: currentDeviceId.videoInput"
                      data-uie-name="enter-camera">
              </select>
              <label class="icon-down preferences-av-label" data-bind="visible: availableDevices.videoInput().length >= 2"></label>
            </div>
          </div>
          <!-- ko if: isTemporaryGuest() -->
            <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesAVTemporaryDisclaimer"></div>
          <!-- /ko -->
          <!-- ko if: permissionDenied() -->
            <div class="preferences-av-video-disabled">
                <div class="preferences-av-video-disabled__info" data-bind="l10nSafeHtml: {id: z.string.preferencesAVNoCamera, 'substitutions': {'replaceDangerously': {'faqLink': '<a href=\'https://support.wire.com/hc/articles/202935412\' data-uie-name=\'go-no-camera-faq\' target=\'_blank\' rel=\'noopener noreferrer\'>', '/faqLink': '</a>', 'br': '<br>'}}}"></div>
                <div class="preferences-av-video-disabled__try-again" data-bind="click: tryAgain, text: z.string.preferencesAVTryAgain" data-uie-name="do-try-again-preferences-av"></div>
            </div>
          <!-- /ko -->
          <!-- ko ifnot: permissionDenied() -->
            <video class="preferences-av-video"
                  autoplay
                  playsinline
                  data-bind="muteMediaElement: mediaStream(), sourceStream: mediaStream()">
            </video>
          <!-- /ko -->
        </section>
      <!-- /ko -->

    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_DEVICE_DETAILS -->
          <div id="preferences-device-details" class="preferences-page preferences-device-details" data-bind="with: $root.preferencesDeviceDetails" data-uie-name="preferences-devices-details">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesDeviceDetails"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll">
      <section class="preferences-section">
        <header class="preferences-devices-details">
          <div class="preferences-devices-icon icon-back" data-bind="click: clickOnDetailsClose" data-uie-name="go-back"></div>
          <span data-bind="l10n_text: z.string.preferencesDevices"></span>
        </header>
        <div class="preferences-devices-model" data-bind="text: device().model" data-uie-name="device-model"></div>
        <div class="preferences-devices-id">
          <span data-bind="l10n_text: z.string.preferencesDevicesId"></span>
          <span data-bind="foreach: device().formatId()" data-uie-name="device-id"><span class="device-id-part" data-bind="text: $data"></span></span>
        </div>
        <div class="preferences-devices-activated">
          <div data-bind="foreach: activationDate"><span data-bind="css: {'preferences-devices-activated-bold': $data.isStyled}, text: $data.text">?</span></div>
        </div>
        <div class="preferences-devices-fingerprint-label" data-bind="l10n_text: z.string.preferencesDevicesFingerprint"></div>
        <div class="preferences-devices-fingerprint" data-bind="foreach: fingerprint()"><span class="device-id-part" data-bind="text: $data"></span></div>
        <div class="preferences-devices-verification slider">
          <input class="slider-input" type="checkbox" name="preferences_device_verification_toggle" id="preferences_device_verification" data-bind="checked: device().meta.isVerified">
          <label class="button-label" for="preferences_device_verification" data-bind="click: toggleDeviceVerification, l10n_text: z.string.preferencesDevicesVerification" data-uie-name="do-verify"></label>
        </div>
        <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesDevicesFingerprintDetail"></div>
      </section>

      <section class="preferences-section">
        <header class="preferences-header"><hr class="preferences-separator"></header>
      </section>

      <section class="preferences-section">
        <div class="preferences-info" data-bind="l10n_text: z.string.preferencesDevicesSessionDetail"></div>
        <div class="preferences-devices-session" data-uie-name="preferences-device-details-session">
          <!-- ko if: sessionResetState() === z.viewModel.content.PreferencesDeviceDetailsViewModel.SESSION_RESET_STATE.RESET -->
            <button class="preferences-button button button-small button-fluid" data-bind="click: clickOnResetSession, l10n_text: z.string.preferencesDevicesSessionReset" data-uie-name="do-session-reset"></button>
          <!-- /ko -->
          <!-- ko if: sessionResetState() === z.viewModel.content.PreferencesDeviceDetailsViewModel.SESSION_RESET_STATE.ONGOING -->
            <div class="preferences-devices-session-reset" data-bind="l10n_text: z.string.preferencesDevicesSessionOngoing"></div>
          <!-- /ko -->
          <!-- ko if: sessionResetState() === z.viewModel.content.PreferencesDeviceDetailsViewModel.SESSION_RESET_STATE.CONFIRMATION -->
            <div class="preferences-devices-session-confirmation text-theme" data-bind="l10n_text: z.string.preferencesDevicesSessionConfirmation"></div>
          <!-- /ko -->
        </div>
      </section>

      <section class="preferences-section">
        <div class="preferences-info" data-bind="l10n_text: z.string.preferencesDevicesRemoveDetail"></div>
        <button class="preferences-button button button-small button-fluid" data-bind="click: clickOnRemoveDevice, l10n_text: z.string.preferencesDevicesRemove" data-uie-name="go-remove-device"></button>
      </section>
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_DEVICES -->
          <div id="preferences-devices" class="preferences-page preferences-devices" data-bind="with: $root.preferencesDevices">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesDevices"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll: shouldUpdateScrollbar">
      <section class="preferences-section" data-uie-name="preferences-device-current">
        <header class="preferences-header" data-bind="l10n_text: z.string.preferencesDevicesCurrent"></header>
        <div class="preferences-devices-model" data-bind="text: currentClient().model"></div>
        <div class="preferences-devices-id"><span data-bind="l10n_text: z.string.preferencesDevicesId"></span>
          <span data-bind="foreach: displayClientId()" data-uie-name="preferences-device-current-id"><span class="device-id-part" data-bind="text: $data"></span></span>
        </div>
        <div class="preferences-devices-activated">
          <div data-bind="foreach: activationDate"><span data-bind="css: {'preferences-devices-activated-bold': $data.isStyled}, text: $data.text">?</span></div>
        </div>
        <div class="preferences-devices-fingerprint-label" data-bind="l10n_text: z.string.preferencesDevicesFingerprint"></div>
        <div class="preferences-devices-fingerprint" data-bind="foreach: localFingerprint()"><span class="device-id-part" data-bind="text: $data"></span></div>
      </section>

      <hr class="preferences-devices-separator preferences-separator">

      <!-- ko if: devices().length -->
        <section class="preferences-section">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesDevicesActive"></header>
          <!-- ko foreach: devices -->
            <div class="preferences-devices-card" data-bind="click: $parent.clickOnShowDevice">
              <div class="preferences-devices-card-data">
                <svg class="preferences-devices-card-icon" data-bind="attr: {'data-uie-value': id}" data-uie-name="device-id">
                  <!-- ko if: meta.isVerified()-->
                    <use xlink:href="#icon-verified" data-uie-name="user-device-verified"></use>
                  <!-- /ko -->
                  <!-- ko ifnot: meta.isVerified()-->
                    <use xlink:href="#icon-not-verified" data-uie-name="user-device-not-verified"></use>
                  <!-- /ko -->
                </svg>
                <div class="preferences-devices-card-info">
                  <div class="preferences-devices-model" data-bind="text: model" data-uie-name="preferences-device-active-model"></div>
                  <div class="preferences-devices-id">
                    <span data-bind="l10n_text: z.string.preferencesDevicesId"></span>
                    <span data-bind="foreach: formatId()" data-uie-name="preferences-device-active-id"><span class="device-id-part" data-bind="text: $data"></span></span>
                  </div>
                </div>
              </div>
              <div class="preferences-devices-card-action">
                <div class="preferences-devices-card-action__delete" data-bind="click: $parent.clickOnRemoveDevice, css: {'svg-red': $parent.isSSO()}" data-uie-name="do-device-remove">
                  <delete-icon></delete-icon>
                </div>
                <div class="icon-forward" data-uie-name="go-device-details"></div>
              </div>
            </div>
          <!-- /ko -->
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesDevicesActiveDetail"></div>
        </section>
      <!-- /ko -->
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.PREFERENCES_OPTIONS -->
          <div id="preferences-options" class="preferences-page preferences-options" data-bind="with: $root.preferencesOptions">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferencesOptions"></div>
  <div class="preferences-content-wrapper">
    <div class="preferences-content" data-bind="antiscroll">
      <!-- ko if: isActivatedAccount() && !isTeam()-->
        <section class="preferences-section">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsContacts"></header>
          <div class="preferences-option" data-uie-name="do-share-contacts">
            <div class="preferences-option-icon preferences-option-pointer" data-bind="click: connectGoogleContacts, l10n_tooltip: z.string.tooltipPreferencesContactsGmail">
              <svg>
                <use xlink:href="#icon-gmail"></use>
              </svg>
            </div>
            <label class="preferences-option-label" data-bind="click: connectGoogleContacts, l10n_text: z.string.preferencesOptionsContactsGmail, l10n_tooltip: z.string.tooltipPreferencesContactsGmail"></label>
          </div>
          <!-- ko if: window.wAddressBook -->
            <div class="preferences-option" data-uie-name="do-share-osx-contacts">
              <div class="preferences-option-icon preferences-option-pointer" data-bind="click: connectMacOSContacts, l10n_tooltip: z.string.tooltipPreferencesContactsMacos">
                <div class="icon-contacts"></div>
              </div>
              <label class="preferences-option-label" data-bind="click: connectMacOSContacts, l10n_text: z.string.preferencesOptionsContactsMacos, l10n_tooltip: z.string.tooltipPreferencesContactsMacos"></label>
            </div>
          <!-- /ko -->
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesOptionsContactsDetail"></div>
        </section>
      <!-- /ko -->

      <section class="preferences-section">
        <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsAudio"></header>
        <div class="preferences-option">
          <div class="preferences-options-radio">
            <input type="radio" id="preferences-options-audio-all" name="preferences-options-audio" value="all" data-bind="checked: optionAudio">
            <label class="text-theme" for="preferences-options-audio-all">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsAudioAll"></span>
              <span class="preferences-hint" data-bind="visible: optionAudio() === z.audio.AudioPreference.ALL"> · <span data-bind="l10n_text: z.string.preferencesOptionsAudioAllDetail"></span></span>
            </label>
            <input type="radio" id="preferences-options-audio-some" name="preferences-options-audio" value="some" data-bind="checked: optionAudio">
            <label class="text-theme" for="preferences-options-audio-some">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsAudioSome"></span>
              <span class="preferences-hint" data-bind="visible: optionAudio() === z.audio.AudioPreference.SOME"> · <span data-bind="l10n_text: z.string.preferencesOptionsAudioSomeDetail"></span></span>
            </label>
            <input type="radio" id="preferences-options-audio-none" name="preferences-options-audio" value="none" data-bind="checked: optionAudio">
            <label class="text-theme" for="preferences-options-audio-none">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsAudioNone"></span>
              <span class="preferences-hint" data-bind="visible: optionAudio() === z.audio.AudioPreference.NONE"> · <span data-bind="l10n_text: z.string.preferencesOptionsAudioNoneDetail"></span></span>
            </label>
          </div>
        </div>
      </section>

      <!-- ko if: isActivatedAccount()-->
        <section class="preferences-section">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsNotifications"></header>
          <div class="preferences-options-radio">
            <input type="radio" id="preferences-options-notification-on" name="preferences-options-notification" value="on" data-bind="checked: optionNotifications">
            <label class="text-theme" for="preferences-options-notification-on">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsNotificationsOn"></span>
            </label>
            <input type="radio" id="preferences-options-notification-obfuscate-message" name="preferences-options-notification" value="obfuscate-message" data-bind="checked: optionNotifications">
            <label class="text-theme" for="preferences-options-notification-obfuscate-message">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsNotificationsObfuscateMessage"></span>
            </label>
            <input type="radio" id="preferences-options-notification-obfuscate" name="preferences-options-notification" value="obfuscate" data-bind="checked: optionNotifications">
            <label class="text-theme" for="preferences-options-notification-obfuscate">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsNotificationsObfuscate"></span>
            </label>
            <input type="radio" id="preferences-options-notification-none" name="preferences-options-notification" value="none" data-bind="checked: optionNotifications">
            <label class="text-theme" for="preferences-options-notification-none">
              <span class="preferences-label" data-bind="l10n_text: z.string.preferencesOptionsNotificationsNone"></span>
            </label>
          </div>
        </section>

        <section class="preferences-section">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsPopular"></header>
          <div class="preferences-option">
            <div class="preferences-option-icon checkbox text-theme" data-bind="attr: {'data-uie-value': optionReplaceInlineEmoji}" data-uie-name="status-preference-emoji-replace">
              <input type="checkbox" id="replace-inline-emoji-checkbox" data-bind="checked: optionReplaceInlineEmoji">
              <label class="preferences-options-checkbox-label" for="replace-inline-emoji-checkbox" data-bind="l10n_text: z.string.preferencesOptionsEmojiReplaceCheckbox"></label>
            </div>
          </div>
          <div class="preferences-detail preferences-detail-emoji" data-bind="l10nSafeHtml: {'id': z.string.preferencesOptionsEmojiReplaceDetail, 'substitutions': {'replaceDangerously': {'icon': '<span class=\'font-size-xs icon-emoji\'></span>'}}}"></div>
          <!-- ko if: z.util.Environment.desktop -->
            <div class="preferences-option preferences-options-multiple">
              <div class="preferences-option-icon checkbox text-theme" data-bind="attr: {'data-uie-value': optionSendPreviews}" data-uie-name="status-preference-previews-send">
                <input type="checkbox" id="send-preview-checkbox" data-bind="checked: optionSendPreviews">
                <label class="preferences-options-checkbox-label" for="send-preview-checkbox" data-bind="l10n_text: z.string.preferencesOptionsPreviewsSendCheckbox"></label>
              </div>
            </div>
            <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesOptionsPreviewsSendDetail"></div>
          <!-- /ko -->
        </section>
      <!-- /ko -->

      <!-- ko if: z.calling.CallingRepository.supportsCalling -->
        <section class="preferences-section">
          <header class="preferences-header" data-bind="l10n_text: z.string.preferencesOptionsCallLogs"></header>
          <div class="preferences-option">
            <div class="preferences-link text-theme" data-bind="click: saveCallLogs, l10n_text: z.string.preferencesOptionsCallLogsGet" data-uie-name="get-call-logs"></div>
          </div>
          <div class="preferences-detail" data-bind="l10n_text: z.string.preferencesOptionsCallLogsDetail"></div>
        </section>
      <!-- /ko -->
    </div>
  </div>
</div>

        <!-- /ko -->
        <!-- ko if: state() === z.viewModel.ContentViewModel.STATE.WATERMARK -->
          <svg class="absolute-center" data-uie-name="no-conversation" width="288" height="374" viewBox="0 0 288 374" xmlns="http://www.w3.org/2000/svg">
  <g fill="#BAC8D1" fill-rule="evenodd" opacity=".24">
    <path d="M5.647 140.47a2.824 2.824 0 1 1-5.647 0V48.696a2.824 2.824 0 0 1 2.823-2.823c8.825 0 18.212-.877 28.086-2.562 20.694-3.534 42.846-10.471 65.423-19.814A446.554 446.554 0 0 0 129.65 8.064a362.623 362.623 0 0 0 9.543-5.079 221.294 221.294 0 0 0 3.171-1.785c1.091-.637 2.182-.637 3.063-.121.388.225.604.348.852.49.717.408 1.56.882 2.528 1.416a363.752 363.752 0 0 0 9.543 5.079 446.554 446.554 0 0 0 33.317 15.433c22.579 9.343 44.73 16.28 65.424 19.814 9.874 1.685 19.26 2.562 28.085 2.562A2.824 2.824 0 0 1 288 48.696v36.71a2.824 2.824 0 1 1-5.647 0V51.492c-8.324-.165-17.077-1.055-26.212-2.614-21.16-3.613-43.696-10.67-66.632-20.163a452.25 452.25 0 0 1-33.741-15.629 367.542 367.542 0 0 1-9.693-5.158c-.766-.424-1.459-.81-2.075-1.159-.616.348-1.309.735-2.075 1.16a368.536 368.536 0 0 1-9.692 5.157 452.27 452.27 0 0 1-33.742 15.63c-22.936 9.491-45.473 16.549-66.632 20.162-9.135 1.56-17.888 2.449-26.212 2.614v88.978zM245.647 266.103c-10.136 0-18.353-8.217-18.353-18.352 0-10.136 8.217-18.353 18.353-18.353 10.136 0 18.353 8.217 18.353 18.353 0 10.135-8.217 18.352-18.353 18.352m0-42.352c-13.254 0-24 10.745-24 24 0 13.254 10.746 24 24 24 13.255 0 24-10.746 24-24 0-13.255-10.745-24-24-24"></path>
    <path d="M258.394 250.65a2.824 2.824 0 0 0-3.891.898c-1.664 2.663-4.273 3.968-8.194 3.968-3.988 0-6.893-1.368-8.991-4.165a2.824 2.824 0 0 0-4.518 3.388c3.197 4.26 7.79 6.424 13.509 6.424 5.785 0 10.235-2.226 12.982-6.622a2.823 2.823 0 0 0-.897-3.89M252.926 245.765a3.309 3.309 0 1 0 0-6.617 3.309 3.309 0 0 0 0 6.617M239.691 245.765a3.309 3.309 0 1 0 0-6.617 3.309 3.309 0 0 0 0 6.617"></path>
    <path d="M279.527 93.882H228.69a2.824 2.824 0 1 1 0-5.647c.15 0 .315.016.5.05 2.14.385 3.895-1.69 3.158-3.737a14.057 14.057 0 0 1-.833-4.783c0-7.797 6.322-14.118 14.12-14.118a14.124 14.124 0 0 1 13.33 9.452 2.825 2.825 0 0 0 2.898 1.881c.325-.028.532-.039.719-.039a8.472 8.472 0 0 1 8.472 8.47 2.824 2.824 0 0 0 5.649 0c0-7.483-5.825-13.607-13.19-14.087A19.77 19.77 0 0 0 245.636 60c-10.919 0-19.77 8.849-19.77 19.765 0 1.086.088 2.161.262 3.218a8.472 8.472 0 0 0 2.562 16.547h50.837c2.206 0 2.824.618 2.824 2.823v127.059c0 41.965-19.502 77.416-52.592 103.67-27.035 21.452-61.578 34.683-85.797 34.683-12.766 0-29.31-3.885-46.043-11.038-18.496-7.907-36.156-19.284-50.792-33.243a2.823 2.823 0 1 0-3.899 4.086c29.319 27.962 71.144 45.842 100.734 45.842 25.56 0 61.317-13.696 89.308-35.906C267.635 310.24 288 273.22 288 229.412v-127.06c0-5.323-3.147-8.47-8.473-8.47M53.647 110.81H19.765a2.824 2.824 0 0 1-2.824-2.824V62.809a2.824 2.824 0 0 1 2.824-2.823h22.588c.749 0 1.467.297 1.997.827l11.294 11.294c.53.53.827 1.248.827 1.996v33.883a2.824 2.824 0 0 1-2.824 2.823zm-2.824-5.648V75.273l-9.64-9.64H22.588v39.53h28.235z"></path>
    <path d="M31.177 83.986c-1.625 0-2.942-1.264-2.942-2.824 0-1.559 1.317-2.823 2.942-2.823h11.057c1.625 0 2.942 1.264 2.942 2.823 0 1.56-1.317 2.824-2.942 2.824H31.177zM31.177 93.868c-1.625 0-2.942-1.264-2.942-2.823 0-1.56 1.317-2.824 2.942-2.824h11.057c1.625 0 2.942 1.264 2.942 2.824 0 1.559-1.317 2.823-2.942 2.823H31.177zM144 187.045a8.47 8.47 0 1 1 0 16.94 8.47 8.47 0 0 1 0-16.94m0 22.588c7.797 0 14.118-6.32 14.118-14.118 0-7.796-6.32-14.117-14.118-14.117-7.797 0-14.118 6.32-14.118 14.117 0 7.797 6.32 14.118 14.118 14.118"></path>
    <path d="M158.118 226.574h-28.236v-8.47c0-1.362.423-1.996 1.263-2.416.312-.157.67-.269 1.033-.338l10.56 5.28c.794.397 1.73.397 2.525 0l10.632-5.318c.958.115 1.462.526 1.815 1.23.172.345.291.742.358 1.143.038.232.05.389.05.418v8.471zm5.52-9.817a9.63 9.63 0 0 0-.877-2.74c-1.345-2.69-3.887-4.384-7.467-4.384-.438 0-.87.102-1.263.298L144 214.947l-10.031-5.016a2.823 2.823 0 0 0-1.263-.298c-.323 0-.784.033-1.346.127a9.625 9.625 0 0 0-2.74.877c-2.69 1.344-4.385 3.887-4.385 7.466v11.295a2.824 2.824 0 0 0 2.824 2.823h33.882a2.824 2.824 0 0 0 2.824-2.823v-11.295c0-.323-.034-.784-.127-1.346zM144 131.28a8.47 8.47 0 1 1 0 16.941 8.47 8.47 0 0 1 0-16.941m0 22.588c7.797 0 14.118-6.321 14.118-14.117 0-7.797-6.32-14.118-14.118-14.118-7.797 0-14.118 6.321-14.118 14.118 0 7.796 6.32 14.117 14.118 14.117M158.118 170.81h-28.236v-8.471c0-1.362.423-1.996 1.263-2.416.312-.156.67-.269 1.033-.338l10.56 5.28c.794.397 1.73.397 2.525 0l10.632-5.317c.958.114 1.462.525 1.815 1.23.172.344.291.74.358 1.143.038.231.05.388.05.418v8.47zm5.52-9.818a9.626 9.626 0 0 0-.877-2.74c-1.345-2.689-3.887-4.384-7.467-4.384-.438 0-.87.103-1.263.298L144 159.182l-10.031-5.016a2.832 2.832 0 0 0-1.263-.298c-.323 0-.784.033-1.346.127a9.646 9.646 0 0 0-2.74.877c-2.69 1.345-4.385 3.887-4.385 7.467v11.294a2.824 2.824 0 0 0 2.824 2.823h33.882a2.824 2.824 0 0 0 2.824-2.823v-11.294c0-.324-.034-.784-.127-1.347zM192 170.103a8.47 8.47 0 1 1 0 16.941 8.47 8.47 0 0 1 0-16.94m0 22.588c7.797 0 14.118-6.321 14.118-14.118 0-7.796-6.32-14.118-14.118-14.118-7.797 0-14.118 6.322-14.118 14.118 0 7.797 6.32 14.118 14.118 14.118"></path>
    <path d="M206.118 209.633h-28.236v-8.47c0-1.362.424-1.996 1.263-2.416a3.972 3.972 0 0 1 1.034-.338l10.558 5.279c.795.397 1.73.397 2.526 0l10.632-5.317c.958.115 1.462.525 1.815 1.23.172.344.291.742.358 1.143.038.232.05.389.05.418v8.47zm5.52-9.817a9.63 9.63 0 0 0-.877-2.74c-1.345-2.69-3.887-4.384-7.467-4.384-.438 0-.87.102-1.263.298L192 198.006l-10.031-5.016a2.823 2.823 0 0 0-1.263-.298c-.323 0-.784.033-1.346.127a9.632 9.632 0 0 0-2.74.877c-2.69 1.344-4.385 3.887-4.385 7.466v11.294a2.824 2.824 0 0 0 2.824 2.824h33.882a2.824 2.824 0 0 0 2.824-2.824v-11.294c0-.323-.034-.784-.127-1.346zM96 170.81a8.471 8.471 0 1 1 0 16.941 8.471 8.471 0 0 1 0-16.942m0 22.589c7.797 0 14.118-6.32 14.118-14.118 0-7.797-6.32-14.118-14.118-14.118-7.797 0-14.118 6.321-14.118 14.118 0 7.797 6.32 14.118 14.118 14.118"></path>
    <path d="M110.118 210.339H81.882v-8.47c0-1.362.423-1.996 1.263-2.416.312-.157.67-.27 1.033-.338l10.56 5.279c.794.397 1.73.397 2.525 0l10.632-5.317c.958.114 1.462.525 1.815 1.23.172.344.291.742.358 1.143.038.232.05.389.05.418v8.47zm5.52-9.817a9.677 9.677 0 0 0-.877-2.74c-1.345-2.69-3.887-4.384-7.467-4.384-.438 0-.87.102-1.263.298L96 198.711l-10.031-5.015a2.823 2.823 0 0 0-1.263-.298c-.323 0-.784.033-1.346.127a9.625 9.625 0 0 0-2.74.877c-2.69 1.344-4.385 3.887-4.385 7.466v11.294a2.824 2.824 0 0 0 2.824 2.824h33.882a2.824 2.824 0 0 0 2.824-2.824v-11.294c0-.323-.033-.784-.127-1.346zM67.765 311.28h-3.53c-.236 0-.25-.009-.826-.585-1.541-1.541-2.705-2.239-4.82-2.239-2.117 0-3.28.698-4.82 2.24-.577.575-.591.584-.828.584-.236 0-.25-.009-.826-.585-1.541-1.541-2.705-2.239-4.821-2.239-2.116 0-3.279.698-4.82 2.24-.576.575-.59.584-.827.584-.236 0-.25-.009-.827-.585-1.54-1.541-2.704-2.239-4.82-2.239-.459 0-1.647-.64-3.112-1.886-1.454-1.236-3.05-2.933-4.505-4.744-14.605-21.114-22.736-45.822-22.736-72.428V163.15c0-.018-.005-.035-.005-.052 0-.019.005-.036.005-.053 0-8.646 4.34-12.625 14.14-12.706H43.06c.749 0 1.467-.297 1.997-.827l6.473-6.474v3.065a2.824 2.824 0 0 0 5.647 0v-9.882c0-.19-.021-.368-.054-.542l-.018-.075a2.718 2.718 0 0 0-.153-.488 2.76 2.76 0 0 0-.975-1.2l-.09-.061a2.98 2.98 0 0 0-.385-.209c-.02-.01-.04-.021-.061-.03a2.92 2.92 0 0 0-.474-.147c-.035-.008-.07-.014-.105-.02a2.83 2.83 0 0 0-.646-.051H44.47a2.824 2.824 0 0 0 0 5.647h3.065l-5.647 5.647H19.765C6.954 144.798 0 151.172 0 163.045c0 .017.005.034.006.053-.001.017-.006.034-.006.052v66.248c0 27.821 8.518 53.672 23.797 75.725.019.028.043.048.063.075.02.026.032.055.052.081 4.184 5.229 8.414 8.824 12.088 8.824.236 0 .25.009.827.585 1.541 1.542 2.704 2.239 4.82 2.239s3.28-.697 4.82-2.24c.577-.575.59-.584.827-.584s.25.009.827.585c1.541 1.542 2.704 2.239 4.82 2.239s3.28-.697 4.82-2.24c.577-.575.59-.584.827-.584s.25.009.827.585c1.541 1.542 2.704 2.239 4.82 2.239h3.53a2.824 2.824 0 0 0 0-5.647M98.823 296.496l-2.49-4.981h4.98l-2.49 4.98zm-4.235-46.628h8.47v-3.53h-8.47v3.53zm0 36h8.47v-30.353h-8.47v30.353zm14.116 2.845l.002-.022v-45.176a2.824 2.824 0 0 0-2.824-2.824H91.765a2.824 2.824 0 0 0-2.824 2.824v45.176l.002.022a2.796 2.796 0 0 0 .253 1.138c.015.035.026.07.043.103l7.059 14.118c1.04 2.082 4.01 2.082 5.051 0l7.059-14.118c.017-.034.027-.068.043-.103a2.766 2.766 0 0 0 .253-1.138zM110.118 308.456a2.824 2.824 0 0 1 0-5.647c1.413 0 2.015-.361 3.65-1.996 2.6-2.6 4.35-3.65 7.644-3.65 3.293 0 5.044 1.05 7.644 3.65 1.635 1.635 2.237 1.996 3.65 1.996 1.413 0 2.015-.361 3.65-1.996 2.6-2.6 4.351-3.65 7.644-3.65s5.044 1.05 7.643 3.65c1.636 1.635 2.238 1.996 3.651 1.996 1.413 0 2.015-.361 3.65-1.996 2.6-2.6 4.352-3.65 7.644-3.65 3.293 0 5.044 1.05 7.643 3.65 1.637 1.635 2.238 1.996 3.651 1.996a2.824 2.824 0 0 1 0 5.647c-3.292 0-5.044-1.05-7.643-3.65-1.636-1.635-2.238-1.997-3.65-1.997-1.414 0-2.015.362-3.652 1.997-2.599 2.6-4.35 3.65-7.643 3.65-3.292 0-5.044-1.05-7.643-3.65-1.636-1.635-2.238-1.997-3.651-1.997-1.413 0-2.015.362-3.65 1.997-2.6 2.6-4.351 3.65-7.644 3.65s-5.044-1.05-7.643-3.65c-1.636-1.635-2.238-1.997-3.651-1.997-1.413 0-2.015.362-3.65 1.997-2.6 2.6-4.351 3.65-7.644 3.65M138.353 80.47h11.294v-5.646h-11.294v5.647zm-8.47-25.411c0-7.797 6.32-14.118 14.117-14.118 7.797 0 14.118 6.32 14.118 14.118 0 6.83-4.85 12.526-11.294 13.834v-8.187a2.82 2.82 0 0 0-.828-1.996l-.826-.828h4.477a2.824 2.824 0 0 0 0-5.647h-11.294c-2.516 0-3.775 3.041-1.996 4.82l4.82 4.82v7.018c-6.445-1.308-11.295-7.004-11.295-13.834zm33.882 0c0-10.916-8.85-19.765-19.765-19.765-10.916 0-19.765 8.85-19.765 19.765 0 6.715 3.352 12.644 8.47 16.216v12.02a2.824 2.824 0 0 0 2.824 2.823h16.942a2.824 2.824 0 0 0 2.823-2.824V71.275c5.12-3.572 8.47-9.501 8.47-16.216zM146.823 29.633a2.824 2.824 0 0 1-5.647 0v-5.647a2.824 2.824 0 0 1 5.647 0v5.647zM164.35 38.688a2.823 2.823 0 1 1-3.993-3.993l4.235-4.235a2.823 2.823 0 1 1 3.992 3.993l-4.235 4.235zM169.412 57.882a2.824 2.824 0 0 1 0-5.647h5.647a2.824 2.824 0 0 1 0 5.647h-5.647zM123.65 38.688a2.824 2.824 0 0 0 3.994-3.993l-4.235-4.235a2.824 2.824 0 0 0-3.994 3.993l4.236 4.235zM112.941 57.882a2.824 2.824 0 0 1 0-5.647h5.647a2.824 2.824 0 0 1 0 5.647h-5.647zM200.47 74.118h11.012a14.134 14.134 0 0 0-11.011-11.012v11.012zm-2.823 5.647a2.824 2.824 0 0 1-2.824-2.824V60a2.824 2.824 0 0 1 2.824-2.824c10.916 0 19.765 8.85 19.765 19.765a2.824 2.824 0 0 1-2.824 2.824h-16.941z"></path>
    <path d="M188.473 88.944a2.824 2.824 0 0 1-2.823-2.824V69.41c-8.014 1.345-14.12 8.315-14.12 16.71 0 9.358 7.585 16.944 16.943 16.944 8.276 0 15.239-6.134 16.67-14.12h-16.67zm2.824-5.647h16.938a2.823 2.823 0 0 1 2.824 2.853c-.132 12.407-10.233 22.562-22.586 22.562-12.476 0-22.59-10.115-22.59-22.592 0-12.476 10.114-22.59 22.59-22.59a2.824 2.824 0 0 1 2.824 2.823v16.944zM265.963 137.393a2.824 2.824 0 0 0-3.865 1.005 15.616 15.616 0 0 1-13.499 7.7 15.607 15.607 0 0 1-14.356-9.396 2.817 2.817 0 0 0 2.489-5.004l-4.69-3.154a2.814 2.814 0 0 0-.879-.532 2.819 2.819 0 0 0-3.587 1.121l-3.414 5.743a2.819 2.819 0 1 0 4.575 3.264c3.043 7.955 10.79 13.606 19.862 13.606 7.646 0 14.59-4.047 18.37-10.49a2.823 2.823 0 0 0-1.006-3.863M271.894 122.5a2.819 2.819 0 0 0-3.466.468 21.248 21.248 0 0 0-19.848-13.566 21.265 21.265 0 0 0-18.37 10.49 2.824 2.824 0 0 0 4.87 2.858 15.617 15.617 0 0 1 13.5-7.7c6.516 0 12.093 3.956 14.427 9.571a2.821 2.821 0 0 0-2.7 4.928l5.154 3.465a2.824 2.824 0 0 0 4.002-.9l3.415-5.744a2.824 2.824 0 0 0-.984-3.87M62.118 221.633H44.785a2.812 2.812 0 0 0-2.432-1.412 2.812 2.812 0 0 0-2.432 1.412H22.588v-28.235h8.47a2.824 2.824 0 0 0 2.824-2.824c0-1.362.423-1.995 1.263-2.415.344-.173.74-.292 1.143-.36.231-.037.388-.048.418-.048H48c1.362 0 1.996.423 2.415 1.262.173.344.292.742.359 1.142.038.233.05.39.05.419a2.824 2.824 0 0 0 2.823 2.824h8.47v28.235zm2.823-33.882h-8.957a9.19 9.19 0 0 0-.517-1.263c-1.345-2.69-3.888-4.385-7.467-4.385H36.706c-.323 0-.784.034-1.346.128a9.646 9.646 0 0 0-2.74.876c-1.918.959-3.33 2.526-3.982 4.644h-8.873a2.824 2.824 0 0 0-2.824 2.823v33.882a2.824 2.824 0 0 0 2.824 2.824h19.764v2.823a2.824 2.824 0 0 0 5.647 0v-2.823h19.765a2.824 2.824 0 0 0 2.824-2.824v-33.882a2.824 2.824 0 0 0-2.824-2.823z"></path>
    <path d="M42.353 213.162a7.06 7.06 0 1 1 .001-14.119 7.06 7.06 0 0 1-.001 14.12m0-19.765c-7.017 0-12.706 5.688-12.706 12.705 0 7.018 5.689 12.706 12.706 12.706 7.017 0 12.706-5.688 12.706-12.706 0-7.017-5.689-12.705-12.706-12.705M42.353 254.103a2.824 2.824 0 0 0-2.824 2.824v7.059a2.824 2.824 0 0 0 5.647 0v-7.059a2.824 2.824 0 0 0-2.823-2.824M42.353 237.162a2.824 2.824 0 0 0-2.824 2.824v7.059a2.824 2.824 0 0 0 5.647 0v-7.06a2.824 2.824 0 0 0-2.823-2.823M42.353 271.045a2.824 2.824 0 0 0-2.824 2.823v7.059a2.824 2.824 0 0 0 5.647 0v-7.059a2.824 2.824 0 0 0-2.823-2.823M194.823 278.103a2.824 2.824 0 1 0 0 5.648 2.824 2.824 0 0 0 0-5.648"></path>
    <path d="M206.118 285.868h-22.589V246.34l19.765.003h2.824v39.526zm2.823-45.173h-5.647l-16.94-.003h-5.647a2.824 2.824 0 0 0-2.825 2.823v45.177a2.824 2.824 0 0 0 2.824 2.823h28.235a2.824 2.824 0 0 0 2.824-2.823v-45.174a2.824 2.824 0 0 0-2.824-2.823zM86.118 88.221C78.32 88.221 72 81.901 72 74.103c0-7.797 6.32-14.117 14.118-14.117 7.797 0 14.117 6.32 14.117 14.117 0 7.798-6.32 14.118-14.117 14.118m2.823-33.678v-3.028h2.824a2.824 2.824 0 0 0 0-5.647H80.47a2.824 2.824 0 0 0 0 5.647h2.823v3.028c-9.577 1.37-16.941 9.604-16.941 19.56 0 10.916 8.849 19.765 19.765 19.765 10.915 0 19.764-8.849 19.764-19.765 0-9.956-7.363-18.19-16.94-19.56"></path>
    <path d="M88.941 72.934l4.82 4.82a2.823 2.823 0 1 1-3.993 3.993L84.121 76.1a2.82 2.82 0 0 1-.827-1.996v-7.765a2.824 2.824 0 0 1 5.647 0v6.595zM148.358 105.527l3.31-3.31a2.824 2.824 0 0 0-3.994-3.992l-3.31 3.309-3.308-3.31a2.824 2.824 0 0 0-3.994 3.994l3.31 3.309-3.31 3.31a2.824 2.824 0 0 0 3.994 3.992l3.309-3.309 3.309 3.31a2.824 2.824 0 0 0 3.993-3.994l-3.31-3.31zM81.882 122.104h33.883v-11.295H81.882v11.295zm-2.823 5.647a2.824 2.824 0 0 1-2.824-2.824v-16.941a2.824 2.824 0 0 1 2.824-2.824h39.53a2.824 2.824 0 0 1 2.823 2.824v16.941a2.824 2.824 0 0 1-2.824 2.824h-39.53z"></path>
    <path d="M108.706 119.28a2.824 2.824 0 1 0 0-5.647 2.824 2.824 0 0 0 0 5.647M81.882 147.515h33.883v-11.294H81.882v11.294zm-2.823 5.647a2.824 2.824 0 0 1-2.824-2.823v-16.941a2.824 2.824 0 0 1 2.824-2.824h39.53a2.824 2.824 0 0 1 2.823 2.824v16.94a2.824 2.824 0 0 1-2.824 2.824h-39.53z"></path>
    <path d="M108.706 144.692a2.824 2.824 0 1 0 0-5.648 2.824 2.824 0 0 0 0 5.648M182.118 136.221a2.824 2.824 0 1 0 0 5.647 2.824 2.824 0 0 0 0-5.647M192 136.221a2.824 2.824 0 1 0 0 5.647 2.824 2.824 0 0 0 0-5.647M202.588 136.221a2.824 2.824 0 1 0 0 5.647 2.824 2.824 0 0 0 0-5.647"></path>
    <path d="M210.353 147.515c0 .78-.633 1.412-1.412 1.412H175.06c-.78 0-1.412-.632-1.412-1.412v-9.176c0-5.848 4.74-10.588 10.588-10.588h15.53c5.847 0 10.588 4.74 10.588 10.588v9.176zm4.858-32.844a2.823 2.823 0 0 0-3.82 1.163l-4.282 8.027a16.157 16.157 0 0 0-7.344-1.758h-15.53a16.16 16.16 0 0 0-7.344 1.758l-4.282-8.027a2.823 2.823 0 1 0-4.982 2.657l4.701 8.816A16.17 16.17 0 0 0 168 138.34v9.176a7.06 7.06 0 0 0 7.059 7.059h33.882a7.059 7.059 0 0 0 7.059-7.059v-9.176c0-4.261-1.643-8.136-4.328-11.032l4.701-8.816a2.822 2.822 0 0 0-1.162-3.82zM221.647 292.927a2.824 2.824 0 0 0-5.647 0 2.824 2.824 0 0 1-2.824 2.824 2.824 2.824 0 0 0 0 5.647 8.47 8.47 0 0 0 8.471-8.471"></path>
    <path d="M232.941 292.927a2.824 2.824 0 0 0-5.647 0c0 7.797-6.32 14.118-14.118 14.118a2.824 2.824 0 0 0 0 5.647c10.916 0 19.765-8.85 19.765-19.765"></path>
    <path d="M244.235 292.927a2.824 2.824 0 0 0-5.647 0c0 14.035-11.377 25.412-25.412 25.412a2.824 2.824 0 0 0 0 5.647c17.154 0 31.06-13.905 31.06-31.059M225.882 198.339h4.236v-11.294h-4.236v11.294zm-2.823 5.647h9.882a2.824 2.824 0 0 0 2.824-2.824v-16.94a2.824 2.824 0 0 0-2.824-2.824h-9.882a2.824 2.824 0 0 0-2.824 2.823v16.941a2.824 2.824 0 0 0 2.824 2.824zM243.53 198.339h4.235v-28.235h-4.236v28.235zm-2.824 5.647h9.882a2.824 2.824 0 0 0 2.824-2.824V167.28a2.824 2.824 0 0 0-2.824-2.824h-9.882a2.824 2.824 0 0 0-2.824 2.824v33.882a2.824 2.824 0 0 0 2.824 2.824zM261.176 198.339h4.236v-23.294h-4.236v23.294zm7.06-28.941h-9.883a2.824 2.824 0 0 0-2.824 2.823v28.941a2.824 2.824 0 0 0 2.824 2.824h9.882a2.824 2.824 0 0 0 2.824-2.824v-28.94a2.824 2.824 0 0 0-2.824-2.824zM268.235 209.633H223.06a2.824 2.824 0 0 0 0 5.647h45.176a2.824 2.824 0 0 0 0-5.647M124.235 274.574h39.53V246.34h-39.53v28.235zm42.353-33.882h-45.176a2.824 2.824 0 0 0-2.824 2.823v33.883a2.824 2.824 0 0 0 2.824 2.823h45.176a2.824 2.824 0 0 0 2.824-2.823v-33.883a2.824 2.824 0 0 0-2.824-2.823zM155.294 283.045h-22.588a2.824 2.824 0 0 0 0 5.647h22.588a2.824 2.824 0 0 0 0-5.647M70.588 299.407l-5.647-1.058v-4.01h5.647v5.068zm3.676-53.069l1.819 33.939a2.857 2.857 0 0 0-.554-.056H59.45l1.816-33.883h13zm-12.518 39.53h12.037L71.9 288.69H63.63l-1.883-2.823zm20.132-2.975l-2.118-39.53a2.823 2.823 0 0 0-2.819-2.672H58.588a2.823 2.823 0 0 0-2.82 2.673l-2.117 39.53c-.032.608.132 1.21.47 1.717l5.173 7.759v8.321c0 1.36.968 2.525 2.303 2.776l11.294 2.118a2.823 2.823 0 0 0 3.344-2.776v-10.44l5.173-7.758a2.818 2.818 0 0 0 .47-1.718zM64.941 122.103H19.765a2.824 2.824 0 0 0-2.824 2.824v11.294a2.824 2.824 0 0 0 5.647 0v-8.47h39.53v28.235H19.765a2.824 2.824 0 0 0 0 5.647h6.725l-3.604 7.208a2.824 2.824 0 0 0 5.051 2.525l4.867-9.733h19.804l4.866 9.733a2.824 2.824 0 0 0 5.052-2.525l-3.605-7.208h6.02a2.824 2.824 0 0 0 2.824-2.824v-33.882a2.824 2.824 0 0 0-2.824-2.824M156.458 350.887l-10.469 10.397c-1.781 1.768-4.812.507-4.812-2.004V325.4a8.47 8.47 0 0 1 8.47-8.471h33.805a8.547 8.547 0 0 1 8.548 8.547v16.941a8.471 8.471 0 0 1-8.47 8.47h-27.072zm-9.634 1.609l6.48-6.436a2.824 2.824 0 0 1 1.99-.82h28.236a2.824 2.824 0 0 0 2.823-2.824v-16.941a2.9 2.9 0 0 0-2.901-2.9h-33.805a2.823 2.823 0 0 0-2.823 2.824v27.097z"></path>
    <path d="M158.118 333.945a2.824 2.824 0 1 1-5.648 0 2.824 2.824 0 0 1 5.648 0M169.412 333.945a2.824 2.824 0 1 1-5.648 0 2.824 2.824 0 0 1 5.648 0M177.882 336.769a2.824 2.824 0 1 1 0-5.647 2.824 2.824 0 0 1 0 5.647M130.588 334.94c0 16.685-16.357 16.59-16.943 16.59H99.529s-2.823 0-2.823-2.797c0-2.796 2.823-2.796 2.823-2.796l14.116-.058c.044 0 11.296.418 11.296-10.94 0-11.358-11.193-11.003-11.294-11.012H91.059s-6.353.059-6.353 6.415c0 4.238 2.117 6.356 6.353 6.356l22.939.002c.002 0 1.767.013 1.767-1.759 0-1.772-1.765-1.83-1.765-1.83l-22.941.056s-2.824 0-2.824-2.825 2.824-2.825 2.824-2.825h22.586s7.767-.347 7.767 7.422-7.765 7.41-7.765 7.41h-22.39s-12.198-.018-12.198-12.007c0-11.99 12-11.989 12-11.989h22.586s16.943-.1 16.943 16.586"></path>
  </g>
</svg>

        <!-- /ko -->
        <div id="group-creation-modal" data-bind="with: $root.groupCreation" class="group-creation-modal modal modal-large">
  <div class="modal-content group-creation-modal-content">
    <div class="modal-header group-creation-modal-header">
      <!-- ko if: stateIsParticipants() -->
        <div class="group-creation-header-block">
          <span class="button-icon icon-back" data-bind="click: clickOnBack" data-uie-name="go-back"></span>
        </div>
        <span class="label-xs group-creation-modal-title" data-bind="text: participantsHeaderText" data-uie-name="status-people-selected"></span>
        <div class="group-creation-header-block">
          <span class="group-creation-modal-action text-theme pull-right enabled" data-bind="click: clickOnCreate, text: participantsActionText" data-uie-name="do-create-group"></span>
        </div>
      <!-- /ko -->
      <!-- ko if: stateIsPreferences() -->
        <div class="group-creation-header-block">
          <span class="button-icon icon-close" data-bind="click: clickOnClose" data-uie-name="do-close"></span>
        </div>
        <span class="label-xs group-creation-modal-title" data-bind="l10n_text: z.string.groupCreationPreferencesHeader"></span>
        <div class="group-creation-header-block">
          <span class="group-creation-modal-action pull-right" data-bind="click: clickOnNext, css: {'text-theme': nameInput().length, 'enabled': nameInput().length}, enable: nameInput().length, l10n_text: z.string.groupCreationPreferencesAction" data-uie-name="go-next"></span>
        </div>
      <!-- /ko -->
    </div>
    <!-- ko if: stateIsParticipants -->
      <user-input class="group-creation-modal-participants-input user-list-light" params="input: participantsInput, selected: selectedContacts, placeholder: z.string.groupCreationParticipantsPlaceholder, enter: clickOnCreate" spellcheck="false"></user-input>
    <!-- /ko -->
    <div class="modal-center group-creation-modal-center">
      <!-- ko if: stateIsParticipants() -->
        <div class="group-creation-list-wrapper" data-bind="antiscroll: shouldUpdateScrollbar">
          <user-list class="group-creation-modal-participants-list user-list-light" params="user: contacts, filter: participantsInput, selected: selectedContacts, searchRepository: searchRepository"></user-list>
        </div>
      <!-- /ko -->
      <!-- ko if: stateIsPreferences() -->
        <input class="input group-creation-modal-teamname-input"
               autocomplete="off" autofocus required spellcheck="false" type="text"
               data-bind="attr: {maxlength: z.conversation.ConversationRepository.CONFIG.GROUP.MAX_NAME_LENGTH}, enter: clickOnNext, hasFocus: true, l10n_placeholder: z.string.groupCreationPreferencesPlaceholder, textInput: nameInput"
               data-uie-name="enter-group-name">
        <div class="group-creation-error" data-bind="text: nameError, visible: nameError().length" data-uie-name="error-group-name"></div>
        <!-- ko if: isTeam -->
          <div class="group-size-info" data-bind="l10n_text: {id: z.string.groupSizeInfo, substitute: z.conversation.ConversationRepository.CONFIG.GROUP.MAX_SIZE}" data-uie-name="status-group-size-info"></div>
          <guest-mode-toggle params="isChecked: isGuestRoom, onToggle: clickOnToggleGuestMode, extendedInfo: true"></guest-mode-toggle>
        <!-- /ko -->
      <!-- /ko -->
    </div>
  </div>
</div>

        <div class="center-column__overlay"></div>
      </div>
      <div id="right-column" class="right-column">
        <div id="conversation-details" class="panel__page conversation-details" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.CONVERSATION_DETAILS]">
  <!-- ko if: isVisible() -->
    <div class="panel__header panel__header--reverse">
      <close-icon class="right-panel-close icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
      <!-- ko if: showActionMute() -->
        <mute-icon class="right-panel-mute icon-button" data-bind="clickOrDrag: clickToToggleMute, css: {'right-panel-mute--active': activeConversation() && activeConversation().showNotificationsNothing()}" data-uie-name="do-mute"></mute-icon>
      <!-- /ko -->
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">

        <!-- ko if: isSingleUserMode() -->
          <!-- ko if: isServiceMode() -->
            <panel-service-details params="service: selectedService"></panel-service-details>
          <!-- /ko -->
          <!-- ko ifnot: isServiceMode() -->
            <panel-user-details params="participant: firstParticipant, isVerified: isVerified"></panel-user-details>
            <div class="conversation-details__devices">
              <div class="panel__action-item" data-bind="click: clickOnDevices" data-uie-name="go-devices">
                <devices-icon class="panel__action-item__icon"></devices-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionDevices"></div>
                <disclose-icon></disclose-icon>
              </div>
            </div>
          <!-- /ko -->
        <!-- /ko -->

        <!-- ko ifnot: isSingleUserMode() -->
          <div class="conversation-details__header">
            <!-- ko if: isActiveGroupParticipant() -->
              <div class="conversation-details__name" data-bind="visible: !isEditingName(), click: clickToEditGroupName, l10n_tooltip: z.string.tooltipConversationDetailsRename" data-uie-name="status-name">
                <div class="conversation-details__name" data-bind="text: activeConversation() && activeConversation().display_name()"></div>
                <edit-icon class="conversation-details__name__edit-icon"></edit-icon>
              </div>
              <textarea class="conversation-details__name conversation-details__name--input"
                        dir="auto"
                        spellcheck="false"
                        data-bind="attr: {maxlength: z.conversation.ConversationRepository.CONFIG.GROUP.MAX_NAME_LENGTH}, enter: renameConversation, resize, value: activeConversation() && activeConversation().display_name(), visible: isEditingName()"
                        data-uie-name="enter-name">
              </textarea>
            <!-- /ko -->
            <!-- ko ifnot: isActiveGroupParticipant() -->
              <div class="conversation-details__name">
                <div class="conversation-details__flex-row">
                  <div data-bind="text: activeConversation() && activeConversation().display_name()" data-uie-name="status-name"></div>
                </div>
              </div>
            <!-- /ko -->

            <!-- ko if: activeConversation() && activeConversation().isGroup() -->
              <div class="conversation-details__participant_count">
                <!-- ko if: userParticipants().length -->
                  <span class="conversation-details__participant_count__user">
                    <span class="conversation-details__participant_count__number" data-bind="text: showAllUsersCount() || userParticipants().length" data-uie-name="status-user-count"></span>
                    <span class="conversation-details__participant_count__text" data-bind="l10n_text: participantsUserText"></span>
                  </span>
                <!-- /ko -->
                <!-- ko if: serviceParticipants().length -->
                  <span class="conversation-details__participant_count__service">
                    <span class="conversation-details__participant_count__number" data-bind="text: serviceParticipants().length" data-uie-name="status-service-count"></span>
                    <span class="conversation-details__participant_count__text" data-bind="l10n_text: participantsServiceText"></span>
                  </span>
                <!-- /ko -->
              </div>
              <!-- ko if: isTeam() -->
                <div class="panel__info-text conversation-details__group-size-info" data-bind="l10n_text: {id: z.string.groupSizeInfo, substitute: z.conversation.ConversationRepository.CONFIG.GROUP.MAX_SIZE}" data-uie-name="status-group-size-info-conversation-details"></div>
              <!-- /ko -->
            <!-- /ko -->
          </div>
          <!-- ko if: showTopActions() -->
            <div class="conversation-details-top-actions">
              <!-- ko if: showActionAddParticipants() -->
                <div class="conversation-details__participant-options">
                  <div class="panel__action-item" data-bind="click: clickOnAddParticipants, attr:{'title': addPeopleTooltip}" data-uie-name="go-add-people">
                    <plus-icon class="panel__action-item__icon"></plus-icon>
                    <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionAddParticipants"></div>
                    <disclose-icon></disclose-icon>
                  </div>
                </div>
              <!-- /ko -->
              <!-- ko if: showSectionOptions() -->
                <div class="conversation-details__list-head" data-bind="text: z.string.conversationDetailsOptions"></div>
                <!-- ko if: showOptionNotificationsGroup() -->
                  <div class="conversation-details__notifications">
                    <div class="panel__action-item" data-bind="click: clickOnNotifications" data-uie-name="go-notifications">
                      <notification-icon class="panel__action-item__icon"></notification-icon>
                      <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionNotifications"></div>
                      <div class="panel__action-item__status" data-bind="l10n_text: notificationStatusText" data-uie-name="status-notifications"></div>
                      <disclose-icon></disclose-icon>
                    </div>
                  </div>
                <!-- /ko -->
                <!-- ko if: showOptionTimedMessages() -->
                  <div class="conversation-details__timed-messages">
                    <div class="panel__action-item" data-bind="click: clickOnTimedMessages" data-uie-name="go-timed-messages">
                      <timer-icon class="panel__action-item__icon"></timer-icon>
                      <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionTimedMessages"></div>
                      <div class="panel__action-item__status" data-bind="l10n_text: timedMessagesText" data-uie-name="status-timed-messages"></div>
                      <disclose-icon></disclose-icon>
                    </div>
                  </div>
                <!-- /ko -->
                <!-- ko if: showOptionGuests() -->
                  <div class="conversation-details__guest-options">
                    <div class="panel__action-item" data-bind="click: clickOnGuestOptions" data-uie-name="go-guest-options">
                      <guest-icon class="panel__action-item__icon"></guest-icon>
                      <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionGuestOptions"></div>
                      <div class="panel__action-item__status" data-bind="l10n_text: guestOptionsText" data-uie-name="status-allow-guests"></div>
                      <disclose-icon></disclose-icon>
                    </div>
                  </div>
                <!-- /ko -->
              <!-- /ko -->
            </div>
          <!-- /ko -->
          <div class="conversation-details__participants">
            <!-- ko if: activeConversation() && activeConversation().isGroup() -->
              <!-- ko if: userParticipants().length -->
                <div class="conversation-details__list-head" data-bind="text: z.string.conversationDetailsPeople"></div>
                <user-list params="user: userParticipants, click: clickOnShowUser, altStyle: true, searchRepository: searchRepository" data-uie-name="list-users"></user-list>
                <!-- ko if: showAllUsersCount() > 0 -->
                  <div class="panel__action-item panel__action-item--no-border" data-bind="click: clickOnShowAll" data-uie-name="go-conversation-participants">
                    <people-icon class="panel__action-item__icon"></people-icon>
                    <div class="panel__action-item__text" data-bind="l10n_text: {id: z.string.conversationDetailsActionConversationParticipants, substitute: showAllUsersCount()}"></div>
                    <disclose-icon></disclose-icon>
                  </div>
                <!-- /ko -->
              <!-- /ko -->

              <!-- ko if: serviceParticipants().length -->
                <div class="conversation-details__list-head" data-bind="text: z.string.conversationDetailsServices"></div>
                <service-list params="services: serviceParticipants, click: clickOnShowService, altStyle: true" data-uie-name="list-services"></service-list>
              <!-- /ko -->
            <!-- /ko -->
          </div>
        <!-- /ko -->
        <!-- ko if: isActivatedAccount()-->
          <div class="conversation-details__bottom-actions">
            <!-- ko if: showOptionNotifications1To1() -->
              <div class="conversation-details__notifications">
                <div class="panel__action-item" data-bind="click: clickOnNotifications" data-uie-name="go-notifications">
                  <notification-icon class="panel__action-item__icon"></notification-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionNotifications"></div>
                  <div class="panel__action-item__status" data-bind="l10n_text: notificationStatusText" data-uie-name="status-notifications"></div>
                  <disclose-icon></disclose-icon>
                </div>
              </div>
            <!-- /ko -->
            <!-- ko if: showActionCreateGroup() -->
              <div class="panel__action-item" data-bind="click: clickOnCreateGroup" data-uie-name="go-create-group">
                <group-icon class="panel__action-item__icon"></group-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionCreateGroup"></div>
              </div>
            <!-- /ko -->
            <div class="panel__action-item" data-bind="click: clickToArchive" data-uie-name="do-archive">
              <archive-icon class="panel__action-item__icon"></archive-icon>
              <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionArchive"></div>
            </div>
            <!-- ko if: showActionCancelRequest() -->
              <div class="panel__action-item" data-bind="click: clickToCancelRequest" data-uie-name="do-cancel-request">
                <close-icon class="panel__action-item__icon"></close-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionCancelRequest"></div>
              </div>
            <!-- /ko -->
            <!-- ko if: showActionClear() -->
              <div class="panel__action-item" data-bind="click: clickToClear" data-uie-name="do-clear">
                <delete-icon class="panel__action-item__icon"></delete-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionClear"></div>
              </div>
            <!-- /ko -->
            <!-- ko if: showActionBlock() -->
              <div class="panel__action-item" data-bind="click: clickToBlock" data-uie-name="do-block">
                <block-icon class="panel__action-item__icon"></block-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionBlock"></div>
              </div>
            <!-- /ko -->
            <!-- ko if: showActionLeave() -->
              <div class="panel__action-item" data-bind="click: clickToLeave" data-uie-name="do-leave">
                <leave-icon class="panel__action-item__icon"></leave-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionLeave"></div>
              </div>
            <!-- /ko -->
          </div>
        <!-- /ko -->
      </div>
    </div>
  <!-- /ko -->
</div>

        <div id="conversation-participants" class="panel__page conversation-participants" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.CONVERSATION_PARTICIPANTS]">
    <!-- ko if: isVisible() -->
        <div class="panel__header">
            <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-conversation-participants"></arrow-left-icon>
            <div class="panel__header__title" data-bind="l10n_text: z.string.conversationParticipantsTitle"></div>
            <close-icon class="right-panel-close icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
        </div>
        <div class="panel__content conversation-participants__content">
            <user-input class="user-list-light" params="input: searchInput, placeholder: z.string.conversationParticipantsSearchPlaceholder, focusDelay: z.motion.MotionDuration.LONG" spellcheck="false"></user-input>
            <div class="conversation-participants__list panel__content">
                <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
                    <user-list class="user-list-light" params="user: participants, click: clickOnShowUser, filter: searchInput, altStyle: true, highlightedUsers: highlightedUsers, searchRepository: searchRepository" data-uie-name="list-conversation-participants"></user-list>
                </div>
            </div>
        </div>
    <!-- /ko -->
</div>

        <div id="add-participants" class="add-participants panel__page" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.ADD_PARTICIPANTS]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-add-participants"></arrow-left-icon>
      <div class="panel__header__title" data-bind="text: headerText" data-uie-name="status-people-selected"></div>
      <close-icon class="icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <user-input class="user-list-light" params="input: searchInput, selected: selectedContacts, placeholder: z.string.addParticipantsSearchPlaceholder, focusDelay: z.motion.MotionDuration.LONG" spellcheck="false"></user-input>
      <!-- ko if: showIntegrations() -->
        <div class="add-participants__tabs">
          <div class="add-participants__tab" data-bind="css: {'add-participants__tab--active': isStateAddPeople}, click: clickOnAddPeople, l10n_text: z.string.addParticipantsTabsPeople" data-uie-name="do-add-people"></div>
          <div class="add-participants__tab" data-bind="css: {'add-participants__tab--active': isStateAddService}, click: clickOnAddService, l10n_text: z.string.addParticipantsTabsServices" data-uie-name="do-add-services"></div>
        </div>
      <!-- /ko -->

      <div class="add-participants__list panel__content">
        <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
          <!-- ko if: isStateAddPeople() -->
            <user-list class="user-list-light" params="user: contacts, filter: searchInput, selected: selectedContacts, searchRepository: searchRepository"></user-list>
          <!-- /ko -->
          <!-- ko if: isStateAddService() -->
            <!-- ko if: services().length -->
              <!-- ko if: isTeamManager() -->
                <ul class="panel-manage-services left-list-items">
                  <li class="left-list-item left-list-item-clickable" data-bind="click: clickOpenManageServices" data-uie-name="go-manage-services">
                    <service-icon class="left-column-icon left-column-icon-dark"></service-icon>
                    <div class="center-column" data-bind="l10n_text: z.string.addParticipantsManageServices"></div>
                  </li>
                </ul>
              <!-- /ko -->
              <service-list class="service-list-light" params="services: services, click: clickOnSelectService, isSearching: isSearching, altStyle: true"></service-list>
            <!-- /ko -->
            <!-- ko if: !services().length && !isInitialServiceSearch() -->
              <div class="search__no-services">
                <service-icon class="search__no-services__icon"></service-icon>
                <!-- ko if: isTeamManager() -->
                  <div class="search__no-services__info" data-bind="l10n_text: z.string.addParticipantsNoServicesManager" data-uie-name="label-no-services-enabled-manager"></div>
                  <div class="search__no-services__manage-button search__no-services__manage-button--alternate" data-bind="l10n_text: z.string.addParticipantsManageServicesNoResults, click: clickOpenManageServices" data-uie-name="go-enable-services"></div>
                <!-- /ko -->
                <!-- ko ifnot: isTeamManager() -->
                  <div class="search__no-services__info" data-bind="l10n_text: z.string.addParticipantsNoServicesMember" data-uie-name="label-no-services-enabled"></div>
                <!-- /ko -->
              </div>
            <!-- /ko -->
          <!-- /ko -->
        </div>
      </div>
      <!-- ko if: isStateAddPeople() -->
        <div class="add-participants__footer">
          <button class="button button-full" data-bind="enable: enableAddAction, click: clickToAddParticipants" data-uie-name="do-create">
            <span data-bind="l10n_text: z.string.addParticipantsConfirmLabel"></span>
          </button>
        </div>
      <!-- /ko -->
    </div>
  <!-- /ko -->
</div>

        <div id="group-participant-user" class="panel__page group-participant" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.GROUP_PARTICIPANT_USER]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-group-participant"></arrow-left-icon>
      <close-icon class="icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
        <!-- ko if: selectedParticipant() -->
          <panel-user-details params="participant: selectedParticipant"></panel-user-details>
        <!-- /ko -->
        <!-- ko if: showActionDevices() -->
          <div class="panel__action-item conversation-details__devices" data-bind="click: clickOnDevices" data-uie-name="go-devices">
            <devices-icon class="panel__action-item__icon"></devices-icon>
            <div class="panel__action-item__text" data-bind="l10n_text: z.string.conversationDetailsActionDevices"></div>
            <disclose-icon></disclose-icon>
          </div>
        <!-- /ko -->

        <!-- ko if: isActivatedAccount() || showActionSelfProfile() -->
          <div class="group-participant__bottom-actions">
            <!-- ko if: showActionSelfProfile() -->
              <div class="panel__action-item" data-bind="click: clickOnShowProfile" data-uie-name="go-profile">
                <profile-icon class="panel__action-item__icon"></profile-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionSelfProfile"></div>
              </div>
            <!-- /ko -->

            <!-- ko if: isActivatedAccount() -->
              <!-- ko if: showActionOpenConversation() -->
                <div class="panel__action-item" data-bind="click: clickOnOpenConversation" data-uie-name="go-conversation">
                  <message-icon class="panel__action-item__icon"></message-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionOpenConversation"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionsIncomingRequest() -->
                <div class="panel__action-item" data-bind="click: clickToAcceptRequest" data-uie-name="do-accept-request">
                  <check-icon class="panel__action-item__icon"></check-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionIncomingRequest"></div>
                </div>
                <div class="panel__action-item" data-bind="click: clickToIgnoreRequest" data-uie-name="do-ignore-request">
                  <close-icon class="panel__action-item__icon"></close-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionIgnoreRequest"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionsOutgoingRequest() -->
                <div class="panel__action-item" data-bind="click: clickOnOpenConversation" data-uie-name="go-conversation">
                  <message-icon class="panel__action-item__icon"></message-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionPending"></div>
                </div>
                <div class="panel__action-item" data-bind="click: clickToCancelRequest" data-uie-name="do-cancel-request">
                  <undo-icon class="panel__action-item__icon"></undo-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionCancelRequest"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionSendRequest() -->
                <div class="panel__action-item" data-bind="click: clickToSendRequest" data-uie-name="do-send-request">
                  <plus-icon class="panel__action-item__icon"></plus-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionSendRequest"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionBlock() -->
                <div class="panel__action-item" data-bind="click: clickToBlock" data-uie-name="do-block">
                  <block-icon class="panel__action-item__icon"></block-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionBlock"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionUnblock() -->
                <div class="panel__action-item" data-bind="click: clickToUnblock" data-uie-name="do-unblock">
                  <block-icon class="panel__action-item__icon"></block-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionUnblock"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionLeave() -->
                <div class="panel__action-item" data-bind="click: clickToLeave" data-uie-name="do-leave">
                  <leave-icon class="panel__action-item__icon"></leave-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionLeave"></div>
                </div>
              <!-- /ko -->
              <!-- ko if: showActionRemove() -->
                <div class="panel__action-item" data-bind="click: clickToRemove" data-uie-name="do-remove">
                  <minus-icon class="panel__action-item__icon"></minus-icon>
                  <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionRemove"></div>
                </div>
              <!-- /ko -->
            <!-- /ko -->
          </div>
        <!-- /ko -->
      </div>
    </div>
  <!-- /ko -->
</div>

        <div id="group-participant-service" class="panel__page group-participant" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.GROUP_PARTICIPANT_SERVICE]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-group-participant"></arrow-left-icon>
      <close-icon class="icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">

        <!-- ko if: selectedService() -->
          <panel-service-details params="service: selectedService"></panel-service-details>

          <!-- ko if: showActions() -->
            <div class="panel__action-item" data-bind="click: clickToOpen" data-uie-name="go-conversation">
              <message-icon class="panel__action-item__icon"></message-icon>
              <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionOpenConversation"></div>
            </div>
            <div class="panel__action-item" data-bind="click: clickToRemove" data-uie-name="do-remove">
              <minus-icon class="panel__action-item__icon"></minus-icon>
              <div class="panel__action-item__text" data-bind="l10n_text: z.string.groupParticipantActionRemove"></div>
            </div>
          <!-- /ko -->
        <!-- /ko -->
      </div>
    </div>

    <!-- ko if: isAddMode() -->
      <div class="panel__footer">
        <button class="button button-full" data-bind="click: clickOnAdd" data-uie-name="do-add-service">
          <span data-bind="l10n_text: z.string.addParticipantsConfirmLabel"></span>
        </button>
      </div>
    <!-- /ko -->
  <!-- /ko -->
</div>

        <div id="guest-options" class="panel__page guest-options" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.GUEST_OPTIONS]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-guest-options"></arrow-left-icon>
      <div class="panel__header__title" data-bind="l10n_text: z.string.guestOptionsTitle"></div>
      <close-icon class="right-panel-close icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
        <div class="guest-options__content">
          <guest-mode-toggle params="isChecked: isGuestEnabled(), onToggle: toggleAccessState, isDisabled: requestOngoing"></guest-mode-toggle>
        </div>
        <!-- ko if: showLinkOptions() -->
          <div class="guest-options__info panel__info-text">
            <div class="guest-options__info__head" data-bind="l10n_text: z.string.guestOptionsInfoHeader"></div>
            <div data-bind="l10n_text: z.string.guestOptionsInfoText" data-uie-name="status-guest-options-info"></div>
          </div>
          <!-- ko if: hasAccessCode() -->
            <copy-to-clipboard class="guest-options__link" params="text: activeConversation().accessCode" data-uie-name="status-invite-link"></copy-to-clipboard>
            <div class="panel__action-item panel__action-item--alternate" data-bind="click: copyLink, css: {'panel__action-item--show-alternative': isLinkCopied}" data-uie-name="do-copy-link">
              <div class="panel__action-item__default">
                <copy-icon class="panel__action-item__icon"></copy-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.guestOptionsCopyLink"></div>
              </div>
              <div class="panel__action-item__alternative">
                <check-icon class="panel__action-item__icon"></check-icon>
                <div class="panel__action-item__text" data-bind="l10n_text: z.string.guestOptionsCopyLinkDone" data-uie-name="status-copy-link-done"></div>
              </div>
            </div>
            <div class="panel__action-item" data-bind="click: revokeAccessCode, css:{'disabled': requestOngoing}">
              <close-icon class="panel__action-item__icon"></close-icon>
              <div class="panel__action-item__text" data-bind="l10n_text: z.string.guestOptionsRevokeLink" data-uie-name="do-revoke-link"></div>
            </div>
          <!-- /ko -->

          <!-- ko ifnot: hasAccessCode() -->
            <div class="panel__action-item" data-bind="click: requestAccessCode, css:{'disabled': requestOngoing}">
              <link-icon class="panel__action-item__icon"></link-icon>
              <div class="panel__action-item__text" data-bind="l10n_text: z.string.guestOptionsCreateLink" data-uie-name="do-create-link"></div>
            </div>
          <!-- /ko -->
        <!-- /ko -->
      </div>
    </div>
  <!-- /ko -->
</div>

        <div id="notification-settings" class="panel__page notification-settings" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.NOTIFICATIONS]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-notification-options"></arrow-left-icon>
      <div class="panel__header__title" data-bind="l10n_text: z.string.notificationSettingsTitle"></div>
      <close-icon class="right-panel-close icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
        <!-- ko foreach: {data: settings, afterRender: () => isRendered(true)} -->
          <div class="panel__action-item" data-bind="click: $parent.clickOnNotificationSetting" data-uie-name="item-notification-option">
            <div class="panel__action-item__text" data-bind="text: text"></div>
              <!-- ko if: $parent.currentNotificationSetting() === value -->
                <check-icon></check-icon>
              <!-- /ko -->
            </div>
          <!-- /ko -->
        <div class="panel__info-text notification-settings__disclaimer" data-bind="l10n_text: z.string.notificationSettingsDisclaimer"></div>
      </div>
    </div>
  <!-- /ko -->
</div>

        <div id="participant-devices" class="panel__page participant-devices" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.PARTICIPANT_DEVICES]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: clickOnBack" data-uie-name="go-back-participant-devices"></arrow-left-icon>
      <!-- ko if: !showDeviceDetails() && !showSelfFingerprint() -->
        <div class="panel__header__title" data-bind="text: z.string.participantDevicesHeader"></div>
      <!-- /ko -->
      <!-- ko if: showSelfFingerprint() -->
        <div class="panel__header__title" data-bind="text: z.string.participantDevicesSelfFingerprint"></div>
      <!-- /ko -->
      <!-- ko if: showDeviceDetails() -->
        <!-- ko if: userEntity().is_me -->
          <div class="panel__header__title" data-bind="text: selectedClient().label || selectedClient().model"></div>
        <!-- /ko -->
        <!-- ko ifnot: userEntity().is_me -->
          <div class="panel__header__title" data-bind="text: z.util.StringUtil.capitalizeFirstChar(selectedClient().class)"></div>
        <!-- /ko -->
      <!-- /ko -->
      <close-icon class="icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>

    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
        <!-- ko if: showDevicesFound() -->
          <div class="participant-devices__header">
            <div class="participant-devices__text-block panel__info-text" data-bind="text: devicesHeadlineText"></div>
            <a class="participant-devices__link" data-bind="attr: {href: z.util.URLUtil.buildUrl(z.util.URLUtil.TYPE.WEBSITE, z.config.URL_PATH.PRIVACY_WHY)}, l10n_text: z.string.participantDevicesWhyVerify" rel="nofollow noopener noreferrer" target="_blank" class="text-theme"></a>
          </div>

          <div class="participant-devices__device-list" data-bind="foreach: clientEntities()">
            <div class="participant-devices__device-item" data-bind="click: $parent.clickOnDevice" data-uie-name="item-device">
              <svg class="participant-devices__device-item__icon" width="16" height="16">
                <!-- ko if: meta.isVerified()-->
                  <use data-uie-name="user-device-verified" xlink:href="#icon-verified"></use>
                <!-- /ko -->
                <!-- ko ifnot: meta.isVerified()-->
                  <use data-uie-name="user-device-not-verified" xlink:href="#icon-not-verified"></use>
                <!-- /ko -->
              </svg>
              <device-card params="device: $data, click: $parent.clickOnDevice"></device-card>
            </div>
          </div>
        <!-- /ko -->

        <!-- ko if: showDevicesNotFound() -->
          <div class="participant-devices__header">
            <div class="participant-devices__text-block panel__info-text" data-bind="text: noDevicesHeadlineText"></div>
            <a class="participant-devices__link" data-bind="l10n_text: z.string.participantDevicesLearnMore, l10n_href: {type: z.util.URLUtil.TYPE.WEBSITE, path: z.string.urlWebsitePrivacy}" rel="nofollow noopener noreferrer" target="_blank" class="text-theme"></a>
          </div>
        <!-- /ko -->

        <!-- ko if: showDeviceDetails() -->
          <div class="participant-devices__header">
            <div class="participant-devices__link participant-devices__show-self-fingerprint text-theme" data-bind="click: clickToShowSelfFingerprint, l10n_text: z.string.participantDevicesDetailShowMyDevice"></div>
            <div data-bind="foreach: detailMessage"><span class="participant-devices__text-block panel__info-text" data-bind="css: {'participant-devices__text-block--highlight': $data.isStyled}, text: $data.text"></span></div>
            <a class="participant-devices__link" data-bind="attr: {href: z.util.URLUtil.buildUrl(z.util.URLUtil.TYPE.WEBSITE, z.config.URL_PATH.PRIVACY_HOW)}, l10n_text: z.string.participantDevicesDetailHowTo" rel="nofollow noopener noreferrer" target="_blank" class="text-theme"></a>

          <device-card class="participant-devices__single-client" params="device: selectedClient()"></device-card>
          <div class="participant-devices__fingerprint" data-bind="foreach: fingerprintRemote()" data-uie-name="status-fingerprint">
            <span class="participant-devices__fingerprint__part" data-bind="text: $data"></span>
          </div>

          <div class="participant-devices__verify">
            <div class="slider" data-uie-name="do-toggle-verified">
              <input class="slider-input" type="checkbox" name="toggle" id="toggle" data-bind="checked: selectedClient().meta.isVerified">
              <label class="button-label" for="toggle" data-bind="click: clickToToggleDeviceVerification, l10n_text: z.string.participantDevicesDetailVerify"></label>
            </div>
            <div class="participant-devices__actions">
              <svg class="svg-theme spin" data-bind="style: {display : isResettingSession() ? 'initial' : 'none'}" width="16" height="16"
                viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" data-uie-name="status-loading">
                <path class="fill-theme" d="M12.416 12.417c-2.374 2.375-6.28 2.33-8.72-.112-2.444-2.442-2.488-6.347-.113-8.72 1.658-1.66 4.12-2.18 6.343-1.394.477.17 1-.08 1.17-.557.167-.477-.083-1-.56-1.17C7.658-.552 4.453.124 2.286 2.29-.808 5.384-.75 10.448 2.4 13.6c3.15 3.152 8.216 3.21 11.312.113 2.165-2.166 2.84-5.37 1.824-8.25-.168-.476-.692-.726-1.17-.558-.476.17-.726.692-.557 1.17.784 2.222.265 4.684-1.394 6.342z"></path>
              </svg>
              <span class="button-label text-theme ellipsis"
                    data-bind="click: clickToResetSession, style: {display: isResettingSession() ? 'none' : 'initial'}, l10n_text: z.string.participantDevicesDetailResetSession"
                    data-uie-name="do-reset-session"></span>
            </div>
          </div>
        </div>
        <!-- /ko -->

        <!-- ko if: showSelfFingerprint()-->
          <div class="participant-devices__header">
            <device-card params="device: selfClient()"></device-card>
            <div class="participant-devices__fingerprint" data-bind="foreach: fingerprintLocal()">
              <span class="participant-devices__fingerprint__part" data-bind="text: $data"></span>
            </div>
            <div>
              <span class="participant-devices__link text-theme" data-bind="click: clickOnShowSelfDevices, l10n_text: z.string.participantDevicesSelfAllDevices"></span>
            </div>
          </div>
        <!-- /ko -->
      </div>
    </div>
  <!-- /ko -->
</div>

        <div id="timed-messages" class="panel__page timed-messages" data-bind="with: $root.subViews[z.viewModel.PanelViewModel.STATE.TIMED_MESSAGES]">
  <!-- ko if: isVisible() -->
    <div class="panel__header">
      <arrow-left-icon class="icon-button" data-bind="clickOrDrag: onGoBack" data-uie-name="go-back-timed-messages-options"></arrow-left-icon>
      <div class="panel__header__title" data-bind="l10n_text: z.string.timedMessagesTitle"></div>
      <close-icon class="right-panel-close icon-button" data-bind="clickOrDrag: onClose" data-uie-name="do-close"></close-icon>
    </div>
    <div class="panel__content">
      <div class="panel__content__scroll" data-bind="antiscroll: shouldUpdateScrollbar">
        <div class="panel__action-item" data-bind="click: clickOnMessageTimeOff" data-uie-name="item-timed-messages-option">
          <div class="panel__action-item__text" data-bind="l10n_text: z.string.ephemeralUnitsNone"></div>
          <!-- ko if: currentMessageTimer() === 0 -->
            <check-icon></check-icon>
          <!-- /ko -->
        </div>
        <!-- ko foreach: {data: messageTimes, afterRender: () => isRendered(true)} -->
          <div data-bind="css: $data.isCustom ? 'panel__action-item custom' : 'panel__action-item', click: $data.isCustom ? null : $parent.clickOnMessageTime" data-uie-name="item-timed-messages-option">
            <div class="panel__action-item__text" data-bind="text: text"></div>
              <!-- ko if: $parent.currentMessageTimer() === value -->
                <check-icon></check-icon>
              <!-- /ko -->
            </div>
          <!-- /ko -->
        <div class="panel__info-text timed-messages__disclaimer" data-bind="l10n_text: z.string.timedMessageDisclaimer"></div>
      </div>
    </div>
  <!-- /ko -->
</div>

      </div>
    </div>
    <div id="detail-view" class="modal detail-view">
  <!-- ko if: messageEntity() && conversationEntity() -->
    <div class="detail-view-content modal-content-anim-close" data-bind="css: {'modal-content-anim-open': imageVisible()}">
      <header class="detail-view-header">
          <div class="text-center">
            <div class="label-bold-xs" data-bind="text: messageEntity().unsafeSenderName(), attr: {'data-uie-uid': messageEntity().user().id, 'data-uie-value': messageEntity().user().name}" data-uie-name="fullscreen-picture-sender"></div>
            <div class="label-xs" data-bind="text: moment(messageEntity().timestamp()).format('DD/MM/YYYY H:mm'), attr: {'data-timestamp': messageEntity().timestamp()}"></div>
          </div>
        <span class="detail-view-header-close-button icon-close icon-button" data-bind="click: clickOnClose" data-uie-name="do-close-detail-view"></span>
      </header>
      <div class="detail-view-main" data-bind="click: clickOnClose">
        <img class="detail-view-image" data-bind="attr: {src: imageSrc()}" data-uie-name="status-picture"/>
      </div>
      <footer class="detail-view-footer">
        <!-- ko if: messageEntity().is_downloadable() -->
          <span class="detail-view-action-button" data-bind="click: clickOnDownload" data-uie-name="do-download-fullscreen-picture">
            <span class="icon-download"></span>
            <span data-bind="l10n_text: z.string.conversationContextMenuDownload"></span>
          </span>
        <!-- /ko -->
        <!-- ko if: messageEntity().is_reactable() && !conversationEntity().removed_from_conversation() -->
          <span class="detail-view-action-button" data-bind="click: clickOnLike" data-uie-name="do-like-fullscreen-picture">
            <span data-bind="css: messageEntity().is_liked() ? 'icon-liked text-red' : 'icon-like'"></span>
            <span data-bind="l10n_text: z.string.conversationContextMenuLike"></span>
          </span>
        <!-- /ko -->
        <!-- ko if: messageEntity().is_deletable() -->
          <span class="detail-view-action-button" data-bind="click: clickOnDelete" data-uie-name="do-delete-fullscreen-picture">
            <span class="icon-delete-for-me"></span>
            <span data-bind="l10n_text: z.string.conversationContextMenuDelete"></span>
          </span>
        <!-- /ko -->
        <!-- ko if: messageEntity().user().is_me && messageEntity().status() !== z.message.StatusType.SENDING && !conversationEntity().removed_from_conversation() -->
          <span class="detail-view-action-button" data-bind="click: clickOnDeleteForEveryone" data-uie-name="do-delete-everywhere-fullscreen-picture">
            <span class="icon-delete-for-everyone"></span>
            <span data-bind="l10n_text: z.string.conversationContextMenuDeleteEveryone"></span>
          </span>
        <!-- /ko -->
      </footer>
    </div>
  <!-- /ko -->
</div>

    <div id="video-calling" data-bind="hide_controls: {timeout: z.viewModel.VideoCallingViewModel.CONFIG.HIDE_CONTROLS_TIMEOUT, skipClass: 'video-controls__button'}, css:{'video-calling--active': showFullscreen(), 'video-calling--minimized': multitasking.isMinimized()}" class="video-calling">
  <!-- ko if: showFullscreen() -->
    <div id="video-element-remote" class="video-element-remote">
      <group-video-grid params="videoGridRepository: videoGridRepository"></group-video-grid>
      <!-- ko if: showRemoteParticipant() -->
        <div class="video-element-remote-participant">
          <!-- ko ifnot: videodCall().isGroup -->
            <participant-avatar class="video-element-remote-participant avatar-no-badge" params="participant: remoteUser, size: z.components.ParticipantAvatar.SIZE.X_LARGE"></participant-avatar>
          <!-- /ko -->
        </div>
      <!-- /ko -->

      <!-- ko if: !isChoosingScreen() -->
        <div class="video-element-overlay hide-controls-hidden"></div>
      <!-- /ko -->

      <!-- ko if: isChoosingScreen() -->
        <choose-screen params="cancel: clickedOnCancelScreen, choose: clickedOnChooseScreen, screens: availableDevices.screenInput"></choose-screen>
      <!-- /ko -->

      <!-- ko if: showControls() -->
        <div id="video-title" class="video-title hide-controls-hidden">
          <div class="video-remote-name" data-bind="text: videodCall().conversationEntity.display_name()"></div>
          <div class="video-timer label-xs" data-bind="text: z.util.TimeUtil.formatSeconds(videodCall().durationTime())"></div>
        </div>

        <!-- ko ifnot: isChoosingScreen() -->
          <div id="video-controls" class="video-controls hide-controls-hidden">
            <div class="video-controls__fit-info" data-bind="l10n_text: z.string.videoCallOverlayFitVideoLabel" data-uie-name="label-fit-fill-info"></div>
            <div class="video-controls__wrapper">
              <div class="video-controls__button" data-bind="click: clickedOnMinimize" data-uie-name="do-call-controls-video-minimize">
                <!-- ko if: hasUnreadMessages() -->
                  <message-unread-icon></message-unread-icon>
                <!-- /ko -->
                <!-- ko ifnot: hasUnreadMessages() -->
                  <message-icon></message-icon>
                <!-- /ko -->
                <div class="video-controls__button__label" data-bind="l10n_text: z.string.videoCallOverlayConversations"></div>
              </div>

              <div class="video-controls__button"
                  data-bind="click: clickedOnMuteAudio, css: {'video-controls__button--active': !selfStreamState.audioSend()}, attr: {'data-uie-value': selfStreamState.audioSend() ? 'inactive' : 'active'}"
                  data-uie-name="do-call-controls-video-call-mute">
                <micoff-icon></micoff-icon>
                <div class="video-controls__button__label" data-bind="l10n_text: z.string.videoCallOverlayMute"></div>
              </div>

              <!-- ko if: showToggleVideo() -->
                <div class="video-controls__button"
                    data-bind="click: clickedOnStopVideo, css: {'video-controls__button--active': selfStreamState.videoSend()}, attr: {'data-uie-value': selfStreamState.videoSend() ? 'active' : 'inactive'}"
                    data-uie-name="do-call-controls-toggle-video">
                  <camera-icon></camera-icon>
                  <!-- ko if: showSwitchCamera() -->
                    <device-toggle-button data-bind="click: clickedOnToggleCamera, clickBubble: false"
                                          params="index: currentDeviceIndex.videoInput, devices: availableDevices.videoInput, type: z.media.MediaDeviceType.VIDEO_INPUT">
                    </device-toggle-button>
                  <!-- /ko -->
                  <!-- ko ifnot: showSwitchCamera() -->
                    <div class="video-controls__button__label" data-bind="l10n_text: z.string.videoCallOverlayVideo"></div>
                  <!-- /ko -->
                </div>
              <!-- /ko -->

              <div class="video-controls__button"
                  data-bind="tooltip: {text: z.string.videoCallScreenShareNotSupported, disabled: !disableToggleScreen()}, click: clickedOnShareScreen, css: {'video-controls__button--active': selfStreamState.screenSend(), 'video-controls__button--disabled': disableToggleScreen()}, attr: {'data-uie-value': selfStreamState.screenSend() ? 'active' : 'inactive', 'data-uie-enabled': disableToggleScreen() ? 'false' : 'true'}"
                  data-uie-name="do-toggle-screen">
                <screenshare-icon></screenshare-icon>
                <!-- ko if: showSwitchScreen() -->
                  <device-toggle-button data-bind="click: clickedOnToggleScreen, clickBubble: false"
                                        params="index: currentDeviceIndex.screenInput, devices: availableDevices.screenInput, type: z.media.MediaDeviceType.SCREEN_INPUT">
                  </device-toggle-button>
                <!-- /ko -->
                <!-- ko ifnot: showSwitchScreen() -->
                  <div class="video-controls__button__label" data-bind="l10n_text: z.string.videoCallOverlayShareScreen"></div>
                <!-- /ko -->
              </div>

              <div class="video-controls__button video-controls__button--red" data-bind="click: clickedOnLeaveCall" data-uie-name="do-call-controls-video-call-cancel">
                <hangup-icon></hangup-icon>
                <div class="video-controls__button__label" data-bind="l10n_text: z.string.videoCallOverlayHangUp"></div>
              </div>
            </div>
          </div>
        <!-- /ko -->
      <!-- /ko -->
    </div>
  <!-- /ko -->
</div>

    <div id="warnings">

  <!-- ko if: warnings().length > 0-->
    <div class="warning" data-bind="css:{'warning-dimmed': warningDimmed}">
      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.REQUEST_CAMERA -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message" data-bind="l10nSafeHtml: {'id': z.string.warningPermissionRequestCamera, 'substitutions': {'replaceDangerously': {'icon': '<span class=\'warning-bar-icon icon-camera\'></span>'}}}"></div>
          <span class="warning-bar-close icon-close button-icon" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.DENIED_CAMERA -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningPermissionDeniedCamera"></span>&nbsp;
            <a class="warning-bar-link" data-bind="l10n_href: {support: z.config.SUPPORT.ID.CAMERA_ACCESS_DENIED}, l10n_text: z.string.warningLearnMore" rel="nofollow noopener noreferrer" target="_blank"></a>
          </div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.REQUEST_MICROPHONE -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message" data-bind="l10nSafeHtml: {'id': z.string.warningPermissionRequestMicrophone, 'substitutions': {'replaceDangerously': {'icon': '<span class=\'warning-bar-icon icon-microphone\'></span>'}}}"></div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.DENIED_MICROPHONE -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningPermissionDeniedMicrophone"></span>&nbsp;
            <a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.MICROPHONE_ACCESS_DENIED}, l10n_text: z.string.warningLearnMore"></a>
          </div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.REQUEST_SCREEN -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message" data-bind="l10nSafeHtml: {'id': z.string.warningPermissionRequestScreen, 'substitutions': {'replaceDangerously': {'icon': '<span class=\'warning-bar-icon icon-screensharing\'></span>'}}}"></div>
          <span class="warning-bar-close icon-close button-icon" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.DENIED_SCREEN -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningPermissionDeniedScreen"></span>&nbsp;
            <a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.SCREEN_ACCESS_DENIED}, l10n_text: z.string.warningLearnMore"></a>
          </div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.NOT_FOUND_CAMERA -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningNotFoundCamera"></span>&nbsp;
            <a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.DEVICE_NOT_FOUND}, l10n_text: z.string.warningLearnMore"></a>
          </div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.NOT_FOUND_MICROPHONE -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningNotFoundMicrophone"></span>&nbsp;
            <a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.DEVICE_NOT_FOUND}, l10n_text: z.string.warningLearnMore"></a>
          </div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.REQUEST_NOTIFICATION -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <div class="warning-bar-message" data-bind="l10nSafeHtml: {'id': z.string.warningPermissionRequestNotification, 'substitutions': {'replaceDangerously': {'icon': '<span class=\'warning-bar-icon icon-envelope\'></span>'}}}"></div>
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning" data-uie-name="do-close-warning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.UNSUPPORTED_INCOMING_CALL -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <!-- ko ifnot: z.util.Environment.browser.chrome -->
            <div class="warning-bar-message">
              <span data-bind="l10n_text: {'id': z.string.warningCallUnsupportedIncoming, substitute: name()}"></span>&nbsp;<a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.CALLING}, l10n_text: z.string.warningLearnMore"></a>
            </div>
          <!-- /ko -->
          <!-- ko if: z.util.Environment.browser.chrome -->
            <!-- ko if: z.util.Environment.desktop -->
              <div class="warning-bar-message">
                <span data-bind="l10n_text: z.string.warningCallIssues"></span>&nbsp;<a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {type: z.util.URLUtil.TYPE.WEBAPP, path: z.string.urlWebappRoot}, l10n_text: z.string.wire_for_web"></a>
              </div>
            <!-- /ko -->
            <!-- ko ifnot: z.util.Environment.desktop -->
              <div class="warning-bar-message">
                <span data-bind="l10n_text: z.string.warningCallUpgradeBrowser"></span>
              </div>
            <!-- /ko -->
          <!-- /ko -->
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.UNSUPPORTED_OUTGOING_CALL -->
        <div class="warning-bar warning-bar-feature bg-theme">
          <!-- ko ifnot: z.util.Environment.browser.chrome -->
            <div class="warning-bar-message">
              <span data-bind="l10n_text: z.string.warningCallUnsupportedOutgoing"></span>&nbsp;<a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {support: z.config.SUPPORT.ID.CALLING}, l10n_text: z.string.warningLearnMore"></a>
            </div>
          <!-- /ko -->
          <!-- ko if: z.util.Environment.browser.chrome -->
            <!-- ko if: z.util.Environment.desktop -->
              <div class="warning-bar-message">
                <span data-bind="l10n_text: z.string.warningCallIssues"></span>&nbsp;<a class="warning-bar-link" rel="nofollow noopener noreferrer" target="_blank" data-bind="l10n_href: {type: z.util.URLUtil.TYPE.WEBAPP, path: z.string.urlWebappRoot}, l10n_text: z.string.wire_for_web"></a>
              </div>
            <!-- /ko -->
            <!-- ko ifnot: z.util.Environment.desktop -->
              <div class="warning-bar-message">
                <span data-bind="l10n_text: z.string.warningCallUpgradeBrowser"></span>
              </div>
            <!-- /ko -->
          <!-- /ko -->
          <span class="warning-bar-close icon-close button-round button-round-dark" data-bind="click: closeWarning"></span>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.CONNECTIVITY_RECONNECT -->
        <div class="warning-bar warning-bar-connection bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningConnectivityConnectionLost"></span>
            <svg class="warning-bar-spinner spin" width="11" height="11" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" data-uie-name="status-loading">
              <path fill="#fff" d="M12.416 12.417c-2.374 2.375-6.28 2.33-8.72-.112-2.444-2.442-2.488-6.347-.113-8.72 1.658-1.66 4.12-2.18 6.343-1.394.477.17 1-.08 1.17-.557.167-.477-.083-1-.56-1.17C7.658-.552 4.453.124 2.286 2.29-.808 5.384-.75 10.448 2.4 13.6c3.15 3.152 8.216 3.21 11.312.113 2.165-2.166 2.84-5.37 1.824-8.25-.168-.476-.692-.726-1.17-.558-.476.17-.726.692-.557 1.17.784 2.222.265 4.684-1.394 6.342z"></path>
            </svg>
          </div>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.CONNECTIVITY_RECOVERY -->
        <div class="warning-bar warning-bar-progress"></div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.NO_INTERNET -->
        <div class="warning-bar warning-bar-connection bg-theme">
          <div class="warning-bar-message" data-bind="l10n_text: z.string.warningConnectivityNoInternet"></div>
        </div>
      <!-- /ko -->

      <!-- ko if: visibleWarning() === z.viewModel.WarningsViewModel.TYPE.LIFECYCLE_UPDATE -->
        <div class="warning-bar warning-bar-connection bg-theme">
          <div class="warning-bar-message">
            <span data-bind="l10n_text: z.string.warningLifecycleUpdate"></span>&nbsp;<a class="warning-bar-link" href="https://medium.com/wire-news/desktop-updates" data-bind="l10n_text: z.string.warningLifecycleUpdateNotes" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="go-whats-new"></a>&nbsp;·&nbsp;<a class="warning-bar-link" data-bind="click: function(){amplify.publish(z.event.WebApp.LIFECYCLE.REFRESH)}, l10n_text: z.string.warningLifecycleUpdateLink" rel="nofollow noopener noreferrer" target="_blank" data-uie-name="do-update"></a>
          </div>
        </div>
      <!-- /ko -->
    </div>
  <!-- /ko -->

</div>

    <div id="modals">
  <div class="modal modal-account-new-devices" data-uie-name="modal-account-new-devices">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right"></div>
        <div class="modal-title" data-bind="l10n_text: z.string.modalAccountNewDevicesHeadline" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text">
        <div class="modal-new-devices-list"></div>
        <div data-bind="l10n_text: z.string.modalAccountNewDevicesMessage"></div>
      </div>
      <div class="modal-footer">
        <div class="modal-secondary button button-medium button-full button-inverted" data-bind="l10n_text: z.string.modalAccountNewDevicesSecondary" data-uie-name="go-manage-devices"></div>
        <div class="modal-close button button-medium button-full" data-bind="l10n_text: z.string.modalAcknowledgeAction" data-uie-name="do-ok"></div>
      </div>
    </div>
  </div>

  <div class="modal modal-session-reset" data-uie-name="modal-session-reset">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right"></div>
        <div class="modal-title" data-bind="l10n_text: z.string.modalSessionResetHeadline" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text">
        <span data-bind="l10n_text: z.string.modalSessionResetMessage1"></span>
        <a data-bind="l10n_href: {support: z.config.SUPPORT.FORM.BUG}, l10n_text: z.string.modalSessionResetMessageLink" rel="nofollow noopener noreferrer" target="_blank"></a>
        <span data-bind="l10n_text: z.string.modalSessionResetMessage2"></span>
      </div>
      <div class="modal-close button button-medium button-fluid" data-bind="l10n_text: z.string.modalAcknowledgeAction" data-uie-name="do-close"></div>
    </div>
  </div>

  <div class="modal modal-template-acknowledge" data-uie-name="modal-template-acknowledge">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right" data-uie-name="do-close"></div>
        <div class="modal-title" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text"></div>
      <div class="modal-footer">
        <div class="modal-action button button-medium button-fluid button-theme-red" data-uie-name="do-action"></div>
      </div>
    </div>
  </div>

  <div class="modal modal-template-confirm" data-uie-name="modal-template-confirm">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right" data-uie-name="do-close"></div>
        <div class="modal-title" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text"></div>
      <div class="modal-footer">
        <div class="modal-secondary button button-medium button-full button-inverted" data-uie-name="do-secondary"></div>
        <div class="modal-action button button-medium button-full" data-uie-name="do-action"></div>
      </div>
    </div>
  </div>

  <div class="modal modal-template-input" data-uie-name="modal-template-input">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right" data-uie-name="do-close"></div>
        <div class="modal-title" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text"></div>
      <input class="modal-input" type="password"/>
      <div class="modal-footer">
        <div class="modal-action button button-medium button-full" data-uie-name="do-action"></div>
      </div>
    </div>
  </div>

  <div class="modal modal-template-option" data-uie-name="modal-template-option">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close icon-close icon-button pull-right" data-uie-name="do-close"></div>
        <div class="modal-title" data-uie-name="status-modal-title"></div>
      </div>
      <div class="modal-text" data-uie-name="status-modal-text"></div>
      <div class="modal-option">
        <div class="checkbox text-theme">
          <input class="modal-checkbox" type="checkbox" id="clear-data-checkbox" data-uie-name="do-clear-data">
          <label class="label-xs" for="clear-data-checkbox">
            <span class="modal-option-text text-graphite-dark"></span>
          </label>
        </div>
      </div>
      <div class="modal-footer">
        <div class="modal-secondary button button-medium button-full button-inverted" data-uie-name="do-secondary"></div>
        <div class="modal-action button button-medium button-full" data-uie-name="do-action"></div>
      </div>
    </div>
  </div>
</div>

  <!-- /ko -->
</div>

    <div id="loading-screen" class="loading-screen">
  <loading-bar params="message: loadingMessage, progress: loadingProgress"></loading-bar>
</div>


    <!-- Vendor libraries -->
<script src="/ext/js/bazinga64/bazinga64.js"></script>
<script src="/ext/js/@wireapp/lru-cache/dist/lru-cache.bundle.js"></script>
<script src="/ext/js/@wireapp/priority-queue/dist/priority-queue.bundle.js"></script>
<script src="/ext/js/dexie/dexie.js"></script>
<script src="/ext/js/dexie-batch/dist/dexie-batch.js"></script>
<script src="/ext/js/@wireapp/store-engine/dist/store-engine.bundle.js"></script>
<script src="/ext/js/jquery/jquery.js"></script>
<script src="/ext/js/jquery-mousewheel/jquery.mousewheel.js"></script>
<script src="/ext/js/url-search-params-polyfill/index.js"></script>
<script src="/ext/js/webrtc-adapter/adapter.js"></script>
<script src="/ext/js/amplify/amplify.js"></script>
<script src="/ext/js/antiscroll-2/antiscroll-2.js"></script>
<script src="/ext/js/highlightjs/highlight.pack.js"></script>
<script src="/ext/js/js-cookie/js.cookie.js"></script>
<script src="/ext/js/keyboardjs/keyboard.js"></script>
<script src="/ext/js/knockout/knockout.debug.js"></script>
<script src="/ext/js/moment/moment.js"></script>
<script src="/ext/js/moment/cs.js"></script>
<script src="/ext/js/moment/da.js"></script>
<script src="/ext/js/moment/de.js"></script>
<script src="/ext/js/moment/el.js"></script>
<script src="/ext/js/moment/es.js"></script>
<script src="/ext/js/moment/et.js"></script>
<script src="/ext/js/moment/fi.js"></script>
<script src="/ext/js/moment/fr.js"></script>
<script src="/ext/js/moment/hr.js"></script>
<script src="/ext/js/moment/hu.js"></script>
<script src="/ext/js/moment/it.js"></script>
<script src="/ext/js/moment/lt.js"></script>
<script src="/ext/js/moment/nl.js"></script>
<script src="/ext/js/moment/pl.js"></script>
<script src="/ext/js/moment/pt.js"></script>
<script src="/ext/js/moment/ro.js"></script>
<script src="/ext/js/moment/ru.js"></script>
<script src="/ext/js/moment/sk.js"></script>
<script src="/ext/js/moment/sl.js"></script>
<script src="/ext/js/moment/tr.js"></script>
<script src="/ext/js/moment/uk.js"></script>
<script src="/ext/js/pako/pako_deflate.js"></script>
<script src="/ext/js/phoneformat/phone-format-global.js"></script>
<script src="/ext/js/platform.js/platform.js"></script>
<script src="/ext/js/raygun4js/raygun.vanilla.js"></script>
<script src="/ext/js/speakingurl/speakingurl.min.js"></script>
<script src="/ext/js/poster-image/poster.js"></script>
<script src="/ext/js/uint32/uint32.js"></script>
<script src="/ext/js/underscore/underscore.js"></script>
<script src="/ext/js/uuid.js/uuid.js"></script>
<script src="/ext/js/sdp-transform/sdp-transform.bundle.js"></script>
<script src="/ext/js/crypto-js/core.js"></script>
<script src="/ext/js/crypto-js/enc-base64.js"></script>
<script src="/ext/js/crypto-js/lib-typedarrays.js"></script>
<script src="/ext/js/crypto-js/md5.js"></script>
<script src="/ext/js/crypto-js/sha256.js"></script>
<script src="/ext/js/linkifyjs/linkify.min.js"></script>
<script src="/ext/js/linkifyjs/linkify-html.min.js"></script>
<script src="/ext/js/simplebar/dist/simplebar.min.js"></script>
<!-- Encryption: Base libraries (don't change the order) -->
<script>
  window.sodium = {
    onload: sodium => (window.sodium = sodium)
  }
</script>
<script src="/ext/js/libsodium.js/sodium.js"></script>
<script src="/ext/js/@wireapp/cbor/dist/cbor.bundle.js"></script>
<script src="/ext/js/@wireapp/proteus/dist/proteus.bundle.js"></script>
<script src="/ext/js/@wireapp/cryptobox/dist/cryptobox.bundle.js"></script>
<!-- Encryption: Protocol Buffers -->
<script src="/ext/js/long/long.js"></script>
<script src="/ext/js/bytebuffer/ByteBufferAB.js"></script>
<script src="/ext/js/protobuf/protobuf.js"></script>
<script src="/ext/js/jszip/dist/jszip.js"></script>

    <!-- Components -->
<script src="/ext/js/webapp-module-namespace/Namespace.js"></script>
<script src="/ext/js/webapp-module-bubble/webapp-module-bubble.js"></script>
<script src="/ext/js/webapp-module-modal/webapp-module-modal.js"></script>
<script src="/ext/js/webapp-module-logger/Logger.js"></script>

    <!-- Utilities -->
<script src="/script/util/ArrayUtil.js"></script>
<script src="/script/util/ClipboardUtil.js"></script>
<script src="/script/util/Crypto.js"></script>
<script src="/script/util/DebugUtil.js"></script>
<script src="/script/util/EmojiUtil.js"></script>
<script src="/script/util/Environment.js"></script>
<script src="/script/util/util.js"></script>
<script src="/script/util/SanitizationUtil.js"></script>
<script src="/script/util/TimeUtil.js"></script>
<script src="/script/util/protobuf.js"></script>
<script src="/script/util/KeyboardUtil.js"></script>
<script src="/script/util/LocalizerUtil.js"></script>
<script src="/script/util/marked.js"></script>
<script src="/script/util/MessageComparator.js"></script>
<script src="/script/util/moment.js"></script>
<script src="/script/util/NumberUtil.js"></script>
<script src="/script/util/ObjectUtil.js"></script>
<script src="/script/util/PeerConnectionUtil.js"></script>
<script src="/script/util/PromiseQueue.js"></script>
<script src="/script/util/scroll-helpers.js"></script>
<script src="/script/util/StorageUtil.js"></script>
<script src="/script/util/StringUtil.js"></script>
<script src="/script/util/CountryCodes.js"></script>
<script src="/script/util/worker.js"></script>
<script src="/script/util/URLUtil.js"></script>
<script src="/script/util/ValidationUtil.js"></script>
<script src="/script/util/ValidationUtilError.js"></script>
<script src="/script/util/PopupUtil.js"></script>
<!-- Config -->
<script src="/script/config.js"></script>
<!-- Error -->
<script src="/script/error/BaseError.js"></script>
<script src="/script/error/AccessTokenError.js"></script>
<script src="/script/error/AuthError.js"></script>
<script src="/script/error/AudioError.js"></script>
<script src="/script/error/BackendClientError.js"></script>
<script src="/script/error/CallError.js"></script>
<script src="/script/error/ClientError.js"></script>
<script src="/script/error/ConnectError.js"></script>
<script src="/script/error/ConnectionError.js"></script>
<script src="/script/error/ConversationError.js"></script>
<script src="/script/error/CryptographyError.js"></script>
<script src="/script/error/EventError.js"></script>
<script src="/script/error/LinkPreviewError.js"></script>
<script src="/script/error/LocationError.js"></script>
<script src="/script/error/MediaError.js"></script>
<script src="/script/error/NotificationError.js"></script>
<script src="/script/error/PermissionError.js"></script>
<script src="/script/error/StorageError.js"></script>
<script src="/script/error/TeamError.js"></script>
<script src="/script/error/UserError.js"></script>
<!-- Audio -->
<script src="/script/audio/AudioRepository.js"></script>
<script src="/script/audio/AudioPreference.js"></script>
<script src="/script/audio/AudioType.js"></script>
<script src="/script/audio/AudioPlayingType.js"></script>
<!-- Authentication -->
<script src="/script/auth/AuthService.js"></script>
<script src="/script/auth/AuthRepository.js"></script>
<script src="/script/auth/SignOutReason.js"></script>
<script src="/script/auth/URLParameter.js"></script>
<!-- Service -->
<script src="/script/service/BackendClient.js"></script>
<script src="/script/service/BackendEnvironment.js"></script>
<script src="/script/service/QueueState.js"></script>
<!-- Initialization -->
<script src="/script/main/auth.js"></script>
<!-- Storage -->
<script src="/script/storage/StorageKey.js"></script>
<script src="/script/storage/StorageRepository.js"></script>
<script src="/script/storage/StorageSchemata.js"></script>
<script src="/script/storage/StorageService.js"></script>
<!-- Localization -->
<script src="/script/localization/strings-init.js"></script>
<script src="/script/localization/translations/webapp-cs.js"></script>
<script src="/script/localization/translations/webapp-da.js"></script>
<script src="/script/localization/translations/webapp-de.js"></script>
<script src="/script/localization/translations/webapp-el.js"></script>
<script src="/script/localization/translations/webapp-es.js"></script>
<script src="/script/localization/translations/webapp-et.js"></script>
<script src="/script/localization/translations/webapp-fi.js"></script>
<script src="/script/localization/translations/webapp-fr.js"></script>
<script src="/script/localization/translations/webapp-hr.js"></script>
<script src="/script/localization/translations/webapp-hu.js"></script>
<script src="/script/localization/translations/webapp-it.js"></script>
<script src="/script/localization/translations/webapp-lt.js"></script>
<script src="/script/localization/translations/webapp-nl.js"></script>
<script src="/script/localization/translations/webapp-pl.js"></script>
<script src="/script/localization/translations/webapp-pt.js"></script>
<script src="/script/localization/translations/webapp-ro.js"></script>
<script src="/script/localization/translations/webapp-ru.js"></script>
<script src="/script/localization/translations/webapp-sk.js"></script>
<script src="/script/localization/translations/webapp-sl.js"></script>
<script src="/script/localization/translations/webapp-tr.js"></script>
<script src="/script/localization/translations/webapp-uk.js"></script>
<script src="/script/localization/webapp.js"></script>
<script src="/script/localization/Localizer.js"></script>
<!-- Tracking -->
<script src="/script/tracking/attribute/ConversationType.js"></script>
<script src="/script/tracking/attribute/DeleteType.js"></script>
<script src="/script/tracking/attribute/MessageType.js"></script>
<script src="/script/tracking/attribute/PlatformType.js"></script>
<script src="/script/tracking/attribute/UserType.js"></script>
<script src="/script/tracking/EventName.js"></script>
<script src="/script/tracking/EventTrackingRepository.js"></script>
<script src="/script/tracking/Helpers.js"></script>
<script src="/script/tracking/SuperProperty.js"></script>
<!-- Assets -->
<script src="/script/assets/AssetUploadFailedReason.js"></script>
<script src="/script/assets/AssetURLCache.js"></script>
<script src="/script/assets/AssetRemoteData.js"></script>
<script src="/script/assets/AssetRetentionPolicy.js"></script>
<script src="/script/assets/AssetTransferState.js"></script>
<script src="/script/assets/AssetType.js"></script>
<script src="/script/assets/AssetService.js"></script>
<script src="/script/assets/AssetMapper.js"></script>
<script src="/script/assets/AssetMetaDataBuilder.js"></script>
<script src="/script/assets/AssetCrypto.js"></script>
<!-- Backup -->
<script src="/script/backup/Error.js"></script>
<script src="/script/backup/BackupRepository.js"></script>
<script src="/script/backup/BackupService.js"></script>
<!-- Broadcast -->
<script src="/script/broadcast/BroadcastRepository.js"></script>
<script src="/script/broadcast/BroadcastService.js"></script>
<!-- Cache -->
<script src="/script/cache/CacheRepository.js"></script>
<!-- Calling: Enums -->
<script src="/script/calling/enum/CallMessageType.js"></script>
<script src="/script/calling/enum/CallState.js"></script>
<script src="/script/calling/enum/CallStateGroup.js"></script>
<script src="/script/calling/enum/PropertyState.js"></script>
<script src="/script/calling/enum/SDPNegotiationMode.js"></script>
<script src="/script/calling/enum/SDPSource.js"></script>
<script src="/script/calling/enum/TerminationReason.js"></script>
<!-- Calling: Rtc -->
<script src="/script/calling/rtc/DataChannelState.js"></script>
<script src="/script/calling/rtc/ICEConnectionState.js"></script>
<script src="/script/calling/rtc/ICEGatheringState.js"></script>
<script src="/script/calling/rtc/SDPType.js"></script>
<script src="/script/calling/rtc/SignalingState.js"></script>
<script src="/script/calling/rtc/StatsType.js"></script>
<!-- Calling: Entities -->
<script src="/script/calling/entities/CallEntity.js"></script>
<script src="/script/calling/entities/CallMessageEntity.js"></script>
<script src="/script/calling/entities/FlowEntity.js"></script>
<script src="/script/calling/entities/FlowAudioEntity.js"></script>
<script src="/script/calling/entities/ParticipantEntity.js"></script>
<!-- Calling -->
<script src="/script/calling/CallingRepository.js"></script>
<script src="/script/calling/CallingService.js"></script>
<script src="/script/calling/CallMessageBuilder.js"></script>
<script src="/script/calling/CallMessageMapper.js"></script>
<script src="/script/calling/SDPMapper.js"></script>
<script src="/script/calling/VideoGridRepository.js"></script>
<!-- Connect -->
<script src="/script/connect/ConnectGoogleService.js"></script>
<script src="/script/connect/ConnectService.js"></script>
<script src="/script/connect/ConnectRepository.js"></script>
<script src="/script/connect/ConnectSource.js"></script>
<script src="/script/connect/PhoneBook.js"></script>
<!-- Connection -->
<script src="/script/connection/ConnectionEntity.js"></script>
<script src="/script/connection/ConnectionMapper.js"></script>
<script src="/script/connection/ConnectionRepository.js"></script>
<script src="/script/connection/ConnectionService.js"></script>
<script src="/script/connection/ConnectionStatus.js"></script>
<!-- Client -->
<script src="/script/client/ClientEntity.js"></script>
<script src="/script/client/ClientMapper.js"></script>
<script src="/script/client/ClientRepository.js"></script>
<script src="/script/client/ClientService.js"></script>
<script src="/script/client/ClientType.js"></script>
<!-- Conversation -->
<script src="/script/conversation/AbstractConversationEventHandler.js"></script>
<script src="/script/conversation/AccessMode.js"></script>
<script src="/script/conversation/AccessRole.js"></script>
<script src="/script/conversation/AccessState.js"></script>
<script src="/script/conversation/ClientMismatchHandler.js"></script>
<script src="/script/conversation/ConversationCellState.js"></script>
<script src="/script/conversation/ConversationEphemeralHandler.js"></script>
<script src="/script/conversation/ConversationMapper.js"></script>
<script src="/script/conversation/ConversationRepository.js"></script>
<script src="/script/conversation/ConversationService.js"></script>
<script src="/script/conversation/ConversationStateHandler.js"></script>
<script src="/script/conversation/ConversationStatus.js"></script>
<script src="/script/conversation/ConversationStatusIcon.js"></script>
<script src="/script/conversation/ConversationType.js"></script>
<script src="/script/conversation/ConversationVerificationState.js"></script>
<script src="/script/conversation/ConversationVerificationStateHandler.js"></script>
<script src="/script/conversation/EventBuilder.js"></script>
<script src="/script/conversation/EventInfoEntity.js"></script>
<script src="/script/conversation/EventMapper.js"></script>
<script src="/script/conversation/NotificationSetting.js"></script>
<!-- Cryptography -->
<script src="/script/cryptography/CryptographyMapper.js"></script>
<script src="/script/cryptography/CryptographyRepository.js"></script>
<script src="/script/cryptography/CryptographyService.js"></script>
<script src="/script/cryptography/GenericMessageType.js"></script>
<script src="/script/cryptography/ProtoMessageType.js"></script>
<!-- Ephemeral -->
<script src="/script/ephemeral/ephemeralTimings.js"></script>
<!-- Events -->
<script src="/script/event/Backend.js"></script>
<script src="/script/event/Client.js"></script>
<script src="/script/event/EventRepository.js"></script>
<script src="/script/event/EventService.js"></script>
<script src="/script/event/EventServiceNoCompound.js"></script>
<script src="/script/event/EventType.js"></script>
<script src="/script/event/EventTypeHandling.js"></script>
<script src="/script/event/NotificationHandlingState.js"></script>
<script src="/script/event/NotificationService.js"></script>
<script src="/script/event/preprocessor/ServiceMiddleware.js"></script>
<script src="/script/event/WebApp.js"></script>
<script src="/script/event/WebSocketService.js"></script>
<!-- Extensions -->
<script src="/script/extension/GiphyService.js"></script>
<script src="/script/extension/GiphyRepository.js"></script>
<script src="/script/extension/GiphyContentSizes.js"></script>
<!-- Integration -->
<script src="/script/integration/IntegrationMapper.js"></script>
<script src="/script/integration/IntegrationRepository.js"></script>
<script src="/script/integration/IntegrationService.js"></script>
<script src="/script/integration/ProviderEntity.js"></script>
<script src="/script/integration/ServiceEntity.js"></script>
<script src="/script/integration/ServiceTag.js"></script>
<!-- Lifecycle -->
<script src="/script/lifecycle/LifecycleService.js"></script>
<script src="/script/lifecycle/LifecycleRepository.js"></script>
<script src="/script/lifecycle/UpdateSource.js"></script>
<!-- Link Previews -->
<script src="/script/links/LinkPreviewHelpers.js"></script>
<script src="/script/links/LinkPreviewMetaDataType.js"></script>
<script src="/script/links/LinkPreviewProtoBuilder.js"></script>
<script src="/script/links/LinkPreviewRepository.js"></script>
<script src="/script/links/LinkPreviewBlackList.js"></script>
<!-- GeoLocation -->
<script src="/script/location/LocationService.js"></script>
<script src="/script/location/LocationRepository.js"></script>
<!-- Media -->
<script src="/script/media/MediaConstraintsHandler.js"></script>
<script src="/script/media/MediaDevicesHandler.js"></script>
<script src="/script/media/MediaDeviceType.js"></script>
<script src="/script/media/MediaElementHandler.js"></script>
<script src="/script/media/MediaEmbeds.js"></script>
<script src="/script/media/MediaParser.js"></script>
<script src="/script/media/MediaRepository.js"></script>
<script src="/script/media/MediaStreamError.js"></script>
<script src="/script/media/MediaStreamErrorTypes.js"></script>
<script src="/script/media/MediaStreamHandler.js"></script>
<script src="/script/media/MediaStreamSource.js"></script>
<script src="/script/media/MediaStreamInfo.js"></script>
<script src="/script/media/MediaType.js"></script>
<script src="/script/media/VideoQualityMode.js"></script>
<!-- Motion -->
<script src="/script/motion/MotionDuration.js"></script>
<!-- Notification -->
<script src="/script/notification/PermissionState.js"></script>
<script src="/script/notification/NotificationPreference.js"></script>
<script src="/script/notification/NotificationRepository.js"></script>
<!-- Permission -->
<script src="/script/permission/PermissionRepository.js"></script>
<script src="/script/permission/PermissionStatusState.js"></script>
<script src="/script/permission/PermissionType.js"></script>
<!-- Properties -->
<script src="/script/properties/PropertiesEntity.js"></script>
<script src="/script/properties/PropertiesRepository.js"></script>
<script src="/script/properties/PropertiesService.js"></script>
<script src="/script/properties/PropertiesType.js"></script>
<!-- Search -->
<script src="/script/search/FullTextSearch.js"></script>
<script src="/script/search/SearchService.js"></script>
<script src="/script/search/SearchRepository.js"></script>
<!-- Self -->
<script src="/script/self/SelfService.js"></script>
<!-- Server -->
<script src="/script/time/ServerTimeRepository.js"></script>
<!-- Team -->
<script src="/script/team/TeamEntity.js"></script>
<script src="/script/team/TeamMapper.js"></script>
<script src="/script/team/TeamMemberEntity.js"></script>
<script src="/script/team/TeamPermission.js"></script>
<script src="/script/team/TeamRepository.js"></script>
<script src="/script/team/TeamRole.js"></script>
<script src="/script/team/TeamService.js"></script>
<!-- Telemetry: App Init -->
<script src="/script/telemetry/app_init/AppInitStatistics.js"></script>
<script src="/script/telemetry/app_init/AppInitStatisticsValue.js"></script>
<script src="/script/telemetry/app_init/AppInitTelemetry.js"></script>
<script src="/script/telemetry/app_init/AppInitTimings.js"></script>
<script src="/script/telemetry/app_init/AppInitTimingsStep.js"></script>
<!-- Telemetry: Calling -->
<script src="/script/telemetry/calling/CallSetupSteps.js"></script>
<script src="/script/telemetry/calling/CallSetupStepsOrder.js"></script>
<script src="/script/telemetry/calling/CallSetupTimings.js"></script>
<script src="/script/telemetry/calling/FlowTelemetry.js"></script>
<script src="/script/telemetry/calling/CallTelemetry.js"></script>
<script src="/script/telemetry/calling/CallLogger.js"></script>
<!-- User -->
<script src="/script/user/AvailabilityMapper.js"></script>
<script src="/script/user/AvailabilityType.js"></script>
<script src="/script/user/ConsentType.js"></script>
<script src="/script/user/ConsentValue.js"></script>
<script src="/script/user/UserService.js"></script>
<script src="/script/user/UserMapper.js"></script>
<script src="/script/user/UserRepository.js"></script>
<script src="/script/user/UserHandleGenerator.js"></script>
<!-- View Models -->
<script src="/script/view_model/ActionsViewModel.js"></script>
<script src="/script/view_model/FaviconViewModel.js"></script>
<script src="/script/view_model/ImageDetailViewViewModel.js"></script>
<script src="/script/view_model/LoadingViewModel.js"></script>
<script src="/script/view_model/MainViewModel.js"></script>
<script src="/script/view_model/ModalsViewModel.js"></script>
<script src="/script/view_model/ShortcutsViewModel.js"></script>
<script src="/script/view_model/WarningsViewModel.js"></script>
<script src="/script/view_model/VideoCallingViewModel.js"></script>
<script src="/script/view_model/WindowTitleViewModel.js"></script>
<!-- View Models: Bindings -->
<script src="/script/view_model/bindings/CommonBindings.js"></script>
<script src="/script/view_model/bindings/ConversationListBindings.js"></script>
<script src="/script/view_model/bindings/ListBackgroundBindings.js"></script>
<script src="/script/view_model/bindings/LocalizationBindings.js"></script>
<script src="/script/view_model/bindings/MessageListBindings.js"></script>
<script src="/script/view_model/bindings/VideoCallingBindings.js"></script>
<!-- View Models: Content -->
<script src="/script/view_model/ContentViewModel.js"></script>
<script src="/script/view_model/content/CollectionDetailsViewModel.js"></script>
<script src="/script/view_model/content/CollectionViewModel.js"></script>
<script src="/script/view_model/content/ConnectRequestsViewModel.js"></script>
<script src="/script/view_model/content/EmojiInputViewModel.js"></script>
<script src="/script/view_model/content/GiphyViewModel.js"></script>
<script src="/script/view_model/content/GroupCreationViewModel.js"></script>
<script src="/script/view_model/content/HistoryExportViewModel.js"></script>
<script src="/script/view_model/content/HistoryImportViewModel.js"></script>
<script src="/script/view_model/content/InputBarViewModel.js"></script>
<script src="/script/view_model/content/MessageListViewModel.js"></script>
<script src="/script/view_model/content/PreferencesAboutViewModel.js"></script>
<script src="/script/view_model/content/PreferencesAccountViewModel.js"></script>
<script src="/script/view_model/content/PreferencesAVViewModel.js"></script>
<script src="/script/view_model/content/PreferencesDeviceDetailsViewModel.js"></script>
<script src="/script/view_model/content/PreferencesDevicesViewModel.js"></script>
<script src="/script/view_model/content/PreferencesOptionsViewModel.js"></script>
<script src="/script/view_model/content/TitleBarViewModel.js"></script>
<!-- View Models: Panel -->
<script src="/script/view_model/PanelViewModel.js"></script>
<script src="/script/view_model/panel/BasePanelViewModel.js"></script>
<script src="/script/view_model/panel/AddParticipantsViewModel.js"></script>
<script src="/script/view_model/panel/ConversationDetailsViewModel.js"></script>
<script src="/script/view_model/panel/ConversationParticipantsViewModel.js"></script>
<script src="/script/view_model/panel/GroupParticipantUserViewModel.js"></script>
<script src="/script/view_model/panel/GroupParticipantServiceViewModel.js"></script>
<script src="/script/view_model/panel/GuestsAndServicesViewModel.js"></script>
<script src="/script/view_model/panel/NotificationsViewModel.js"></script>
<script src="/script/view_model/panel/TimedMessagesViewModel.js"></script>
<script src="/script/view_model/panel/ParticipantDevicesViewModel.js"></script>
<!-- View Models: List -->
<script src="/script/view_model/ListViewModel.js"></script>
<script src="/script/view_model/list/ArchiveViewModel.js"></script>
<script src="/script/view_model/list/ConversationListViewModel.js"></script>
<script src="/script/view_model/list/PreferencesListViewModel.js"></script>
<script src="/script/view_model/list/StartUIViewModel.js"></script>
<script src="/script/view_model/list/TakeoverViewModel.js"></script>
<script src="/script/view_model/list/TemporaryGuestViewModel.js"></script>
<!-- Knockout components -->
<script src="/script/components/accentColorPicker.js"></script>
<script src="/script/components/availabilityState.js"></script>
<script src="/script/components/copyToClipboard.js"></script>
<script src="/script/components/deviceCard.js"></script>
<script src="/script/components/deviceRemove.js"></script>
<script src="/script/components/ephemeralTimer.js"></script>
<script src="/script/components/fullSearch.js"></script>
<script src="/script/components/groupList.js"></script>
<script src="/script/components/groupVideoGrid.js"></script>
<script src="/script/components/image.js"></script>
<script src="/script/components/inputElement.js"></script>
<script src="/script/components/inputLevel.js"></script>
<script src="/script/components/messageTimerButton.js"></script>
<script src="/script/components/mentionSuggestions.js"></script>
<script src="/script/components/serviceList.js"></script>
<script src="/script/components/topPeople.js"></script>
<script src="/script/components/participantAvatar.js"></script>
<script src="/script/components/list/participantItem.js"></script>
<script src="/script/components/userProfile.js"></script>
<script src="/script/components/userInput.js"></script>
<script src="/script/components/userList.js"></script>
<script src="/script/components/guestModeToggle.js"></script>
<script src="/script/components/icons.js"></script>
<script src="/script/components/logos.js"></script>
<script src="/script/components/loadingBar.js"></script>
<script src="/script/components/asset/assetHeader.js"></script>
<script src="/script/components/asset/videoAsset.js"></script>
<script src="/script/components/asset/audioAsset.js"></script>
<script src="/script/components/asset/fileAsset.js"></script>
<script src="/script/components/asset/linkPreviewAsset.js"></script>
<script src="/script/components/asset/locationAsset.js"></script>
<script src="/script/components/asset/controls/audioSeekBar.js"></script>
<script src="/script/components/asset/controls/seekBar.js"></script>
<script src="/script/components/asset/controls/mediaButton.js"></script>
<script src="/script/components/calling/chooseScreen.js"></script>
<script src="/script/components/calling/deviceToggleButton.js"></script>
<script src="/script/components/list/conversationListCallingCell.js"></script>
<script src="/script/components/list/conversationListCell.js"></script>
<script src="/script/components/list/groupAvatar.js"></script>
<script src="/script/components/panel/userDetails.js"></script>
<script src="/script/components/panel/serviceDetails.js"></script>
<!-- Entities -->
<script src="/script/message/CallMessageType.js"></script>
<script src="/script/message/MessageCategory.js"></script>
<script src="/script/message/MessageCategorization.js"></script>
<script src="/script/message/EphemeralStatusType.js"></script>
<script src="/script/message/MentionEntity.js"></script>
<script src="/script/message/StatusType.js"></script>
<script src="/script/message/ReactionType.js"></script>
<script src="/script/message/SuperType.js"></script>
<script src="/script/message/SystemMessageType.js"></script>
<script src="/script/message/VerificationMessageType.js"></script>
<script src="/script/entity/message/Asset.js"></script>
<script src="/script/entity/message/Text.js"></script>
<script src="/script/entity/message/LinkPreview.js"></script>
<script src="/script/entity/message/File.js"></script>
<script src="/script/entity/message/Location.js"></script>
<script src="/script/entity/message/MediumImage.js"></script>
<script src="/script/entity/message/Message.js"></script>
<script src="/script/entity/message/DeleteMessage.js"></script>
<script src="/script/entity/message/SystemMessage.js"></script>
<script src="/script/entity/message/MemberMessage.js"></script>
<script src="/script/entity/message/MissedMessage.js"></script>
<script src="/script/entity/message/ContentMessage.js"></script>
<script src="/script/entity/message/MessageTimerUpdateMessage.js"></script>
<script src="/script/entity/message/RenameMessage.js"></script>
<script src="/script/entity/message/PingMessage.js"></script>
<script src="/script/entity/message/CallMessage.js"></script>
<script src="/script/entity/message/DecryptErrorMessage.js"></script>
<script src="/script/entity/message/VerificationMessage.js"></script>
<script src="/script/entity/User.js"></script>
<script src="/script/entity/Conversation.js"></script>
<!-- View -->
<script src="/script/ui/AvailabilityContextMenu.js"></script>
<script src="/script/ui/ContextMenu.js"></script>
<script src="/script/ui/OverlayedObserver.js"></script>
<script src="/script/ui/ShortcutType.js"></script>
<script src="/script/ui/Shortcut.js"></script>
<script src="/script/ui/ViewportObserver.js"></script>
<script src="/script/ui/WindowHandler.js"></script>
<!-- Main -->
<script src="/script/main/SingleInstanceHandler.js"></script>
<script src="/script/main/app.js"></script>


    <script type="text/html" id="user-profile-footer-add">
  <div class="button-icon pull-left" data-bind="click: clickToSendRequest, l10n_tooltip: z.string.userProfileButtonConnect" data-uie-name="do-connect">
    <div class="button-icon icon-plus"></div>
    <span data-bind="l10n_text: z.string.userProfileButtonConnect"></span>
  </div>
</script>

<script type="text/html" id="user-profile-footer-empty"></script>

<script type="text/html" id="user-profile-footer-ignore-accept">
  <div class="footer-controls-buttons">
    <div class="button button-medium button-inverted" data-bind="click: clickToIgnoreInvite, l10n_text: z.string.userProfileButtonIgnore" data-uie-name="do-ignore"></div>
    <div class="button button-medium" data-bind="click: clickToAcceptInvite, l10n_text: z.string.userProfileButtonConnect" data-uie-name="do-connect"></div>
  </div>
</script>

<script type="text/html" id="user-profile-footer-unblock">
  <div class="button-icon pull-left" data-bind="click: clickToUnblock, l10n_tooltip: z.string.userProfileButtonUnblock" data-uie-name="do-unblock">
    <div class="button-icon icon-block"></div>
    <span data-bind="l10n_text: z.string.userProfileButtonUnblock"></span>
  </div>
</script>

    <script type="text/html" id="verification">
  <div class="message-header">
    <div class="message-header-icon">
      <!-- ko if: message.isTypeVerified() -->
        <verified-icon></verified-icon>
      <!-- /ko -->
      <!-- ko ifnot: message.isTypeVerified() -->
        <svg width="16" height="16">
          <use xlink:href="#icon-not-verified"></use>
        </svg>
      <!-- /ko -->
    </div>
    <div class="message-header-label">
      <!-- ko if: message.isTypeVerified() -->
        <span data-bind="l10n_text: z.string.tooltipConversationAllVerified"></span>
      <!-- /ko -->
      <!-- ko if: message.isTypeUnverified() -->
        <span class="message-header-sender-name" data-bind="text: message.unsafeSenderName()"></span>
        <span class="ellipsis" data-bind="l10n_text: z.string.conversationDeviceUnverified"></span>
        <span class="message-verification-action text-theme" data-bind="click: clickOnDevice, text: message.captionUnverifiedDevice" data-uie-name="go-devices"></span>
      <!-- /ko -->
      <!-- ko if: message.isTypeNewDevice() -->
        <span class="message-header-plain-sender-name" data-bind='text: message.captionUser'></span>
        <span class="ellipsis" data-bind="text: message.captionStartedUsing"></span>
        <span class="message-verification-action text-theme" data-bind="click: clickOnDevice, text: message.captionNewDevice" data-uie-name="go-devices"></span>
      <!-- /ko -->
      <!-- ko if: message.isTypeNewMember() -->
        <span class="ellipsis" data-bind="l10n_text: z.string.conversationDeviceNewPeopleJoined"></span>&nbsp;<span class="message-verification-action text-theme" data-bind="click: clickOnDevice, l10n_text: z.string.conversationDeviceNewPeopleJoinedVerify" data-uie-name="go-devices"></span>
      <!-- /ko -->
      <hr class="message-header-line" />
    </div>
  </div>
</script>

<script type="text/html" id="call">
  <div class="message-header">
    <div class="message-header-icon message-header-icon--svg">
      <!-- ko if: message.was_completed() -->
        <div class="svg-green"><pickup-icon></pickup-icon></div>
      <!-- /ko -->
      <!-- ko if: message.was_missed() -->
        <div class="svg-red"><hangup-icon></hangup-icon></div>
      <!-- /ko -->
    </div>
    <div class="message-header-label">
      <span class="message-header-sender-name" data-bind='text: message.unsafeSenderName()'></span>
      <span class="ellipsis" data-bind="text: message.caption()"></span>
    </div>
    <div class="message-body-actions">
      <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp}"></time>
    </div>
  </div>
</script>

<script type="text/html" id="delete">
  <div class="message-header">
    <div class="message-header-icon">
      <participant-avatar class="sender-avatar" params="participant: message.user, click: $parent.showUserDetails, size: z.components.ParticipantAvatar.SIZE.X_SMALL"></participant-avatar>
    </div>
    <div class="message-header-label">
      <span class="message-header-label-sender" data-bind='text: message.unsafeSenderName()'></span>
      <span class="message-header-label-icon icon-trash" data-bind="attr: {title: message.display_deleted_timestamp()}"></span>
    </div>
    <div class="message-body-actions message-body-actions-large">
      <time class="time" data-bind="text: message.display_deleted_timestamp(), attr: {'data-timestamp': message.deleted_timestamp, 'data-uie-uid': message.id}" data-uie-name="item-message-delete-timestamp"></time>
    </div>
  </div>
</script>

<script type="text/html" id="normal">
  <!-- ko if: !$parent.should_hide_user_avatar($data) -->
    <div class="message-header">
      <div class="message-header-icon">
        <participant-avatar class="sender-avatar" params="participant: message.user, click: $parent.showUserDetails, size: z.components.ParticipantAvatar.SIZE.X_SMALL"></participant-avatar>
      </div>
      <div class="message-header-label">
        <span class="message-header-label-sender" data-bind='css: message.accent_color(), text: message.headerSenderName()' data-uie-name="sender-name"></span>
        <!-- ko if: message.user().isService -->
          <service-icon class="message-header-icon-service"></service-icon>
        <!-- /ko -->
        <!-- ko if: was_edited() -->
          <span class="message-header-label-icon icon-edit" data-bind="attr: {title: message.display_edited_timestamp()}"></span>
        <!-- /ko -->
      </div>
    </div>
  <!-- /ko -->

  <div class="message-body" data-bind="attr: {'title': message.ephemeral_caption()}">
    <!-- ko if: message.ephemeral_status() === z.message.EphemeralStatusType.ACTIVE -->
      <ephemeral-timer class="message-ephemeral-timer" params="message: message"></ephemeral-timer>
    <!-- /ko -->

    <!-- ko foreach: {data: message.assets, as: 'asset'} -->
      <!-- ko if: asset.is_image() -->
        <div class="message-asset-image">
          <div class="image image-loading" data-bind="
            attr: {'data-uie-visible': $parent.visible() && !message.isObfuscated()},
            background_image: asset.resource,
            click: function(data, event) {$parents[1].show_detail(message, event)},
            css: {'bg-color-ephemeral': message.isObfuscated()},
            " data-uie-name="go-image-detail">
            <!-- ko if: message.isObfuscated() -->
              <div class="icon-library flex-center full-screen text-white"></div>
            <!-- /ko -->
            <img class="image-element" data-bind="attr: {src: asset.dummy_url}, css: {'image-ephemeral': message.isObfuscated()}"/>
            <!-- ko ifnot: message.isObfuscated() -->
              <span class="image-placeholder-icon">
                <div class="three-dots">
                  <span></span>
                  <span></span>
                  <span></span>
                </div>
              </span>
            <!-- /ko -->
          </div>
        </div>
      <!-- /ko -->
      <!-- ko if: asset.is_text() -->
        <!-- ko if: asset.should_render_text -->
          <div class="text" data-bind="html: asset.render($parents[1].selfUser().id), event: {click: $parents[1].handleClickOnMessage}, css: {'text-graphite': $parent.is_editing, 'text-large': z.util.EmojiUtil.includesOnlyEmojies(asset.text), 'text-graphite': message.status() === z.message.StatusType.SENDING, 'ephemeral-message-obfuscated': message.isObfuscated()}" dir="auto"></div>
        <!-- /ko -->
        <!-- ko foreach: asset.previews() -->
          <link-preview-asset class="message-asset" data-bind="css: {'ephemeral-asset-expired': message.isObfuscated()}" params="message: message"></link-preview-asset>
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: asset.is_video() -->
        <video-asset class="message-asset" data-bind="css: {'ephemeral-asset-expired icon-movie': message.isObfuscated()}" params="message: message"></video-asset>
      <!-- /ko -->
      <!-- ko if: asset.is_audio() -->
        <audio-asset class="message-asset" data-bind="css: {'ephemeral-asset-expired icon-microphone': message.isObfuscated()}" params="message: message"></audio-asset>
      <!-- /ko -->
      <!-- ko if: asset.is_file() -->
        <file-asset class="message-asset" data-bind="css: {'ephemeral-asset-expired icon-file': message.isObfuscated()}" params="message: message"></file-asset>
      <!-- /ko -->
      <!-- ko if: asset.is_location() -->
        <location-asset params="asset: asset, locationRepository: $parents[1].locationRepository"></location-asset>
      <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: !message.other_likes().length && message.is_reactable() -->
      <div class="message-body-like">
        <span class="message-body-like-icon like-button message-show-on-hover" data-bind="attr: {'data-ui-value': message.is_liked()}, css: {'like-button-liked': message.is_liked()}, style: {opacity: message.is_liked() ? 1 : ''}, click: $parent.click_on_like">
          <span class="icon-like-small"></span>
          <span class="icon-liked-small"></span>
        </span>
      </div>
    <!-- /ko -->

    <div class="message-body-actions">
      <span class="context-menu icon-more font-size-xs" data-bind="click: $parent.on_context_menu_click"></span>
      <!-- ko if: message.ephemeral_status() === z.message.EphemeralStatusType.ACTIVE -->
        <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp, 'data-uie-uid': message.id, 'title': message.ephemeral_caption()}"></time>
      <!-- /ko -->
      <!-- ko ifnot: message.ephemeral_status() === z.message.EphemeralStatusType.ACTIVE -->
        <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp, 'data-uie-uid': message.id}"></time>
      <!-- /ko -->
      <!-- ko if: $parent.is_last_delivered_message(message) -->
        <span class="message-status" data-bind="l10n_text: z.string.conversationMessageDelivered"></span>
      <!-- /ko -->
    </div>

  </div>
  <!-- ko if: message.other_likes().length -->
    <div class="message-footer">
      <div class="message-footer-icon">
        <span class="like-button" data-bind="attr: {'data-ui-value': message.is_liked()}, css: {'like-button-liked': message.is_liked()}, style: {opacity: message.is_liked() ? 1 : ''}, click: $parent.click_on_like">
          <span class="icon-like-small"></span>
          <span class="icon-liked-small"></span>
        </span>
      </div>
      <div class="message-footer-label cursor-pointer" data-bind="click: function() {$data.show_likes(true)}">
        <span class="font-size-xs text-graphite" data-bind="text: like_caption, attr: {'data-uie-value': reactions_user_ids()}"  data-uie-name="message-liked-names"></span>
        <!-- ko if: !message.show_likes() && message.other_likes().length > 5 -->
          <span class="icon-more font-size-xs"></span>
        <!-- /ko -->
      </div>
      <!-- ko if: message.show_likes() -->
        <div class="message-footer-bottom" data-uie-name="message-liked-avatars">
          <!-- ko foreach: message.reactions_user_ets() -->
            <participant-avatar params="participant: $data, click: $parents[1].showUserDetails, size: z.components.ParticipantAvatar.SIZE.X_SMALL"></participant-avatar>
          <!-- /ko -->
          <span class="message-footer-close-button icon-close" data-bind="click: function() { $data.show_likes(false) }"></span>
        </div>
      <!-- /ko -->
    </div>
  <!-- /ko -->
</script>

<script type="text/html" id="member">
  <!-- ko if: showLargeAvatar() -->
    <div class="message-connected">
      <span class="message-connected-header" data-bind='text: otherUser().name()'></span>
      <!-- ko if: otherUser().isService -->
        <span class="message-connected-provider-name" data-bind='text: otherUser().providerName()'></span>
      <!-- /ko -->
      <!-- ko ifnot: otherUser().isService -->
        <span class="message-connected-username label-username" data-bind='text: otherUser().username()'></span>
      <!-- /ko -->
      <participant-avatar class="message-connected-avatar avatar-no-badge cursor-default"
                   data-bind="css: {'avatar-no-badge': otherUser().isOutgoingRequest()}"
                   params="participant: otherUser, size: z.components.ParticipantAvatar.SIZE.X_LARGE"></participant-avatar>
      <!-- ko if: otherUser().isOutgoingRequest() -->
        <div class="message-connected-cancel text-theme"
             data-bind="click: $parent.click_on_cancel_request,
                        l10n_text: z.string.conversationConnectionCancelRequest"
             data-uie-name="do-cancel-request"></div>
      <!-- /ko -->
      <!-- ko if: showServicesWarning -->
        <div class="message-services-warning" data-bind="l10n_text: z.string.conversationServicesWarning" data-uie-name="label-services-warning"></div>
      <!-- /ko -->
    </div>
  <!-- /ko -->
  <!-- ko ifnot: showLargeAvatar() -->
    <!-- ko if: showNamedCreation() -->
      <div class="message-group-creation-header">
        <div class="message-group-creation-header-text" data-bind="html: htmlGroupCreationHeader()"></div>
        <div class="message-group-creation-header-name" data-bind="text: name()"></div>
      </div>
    <!-- /ko -->

    <!-- ko if: hasUsers() -->
      <div class="message-header" data-bind="template: {afterRender: $parent.bindShowMore}">
        <div class="message-header-icon message-header-icon--svg text-graphite">
          <message-icon data-bind="visible: isGroupCreation()"></message-icon>
          <span class="icon-minus" data-bind="visible: isMemberRemoval()"></span>
          <span class="icon-plus" data-bind="visible: isMemberJoin()"></span>
        </div>
        <div class="message-header-label">
          <span class="message-header-caption" data-bind="html: htmlCaption()"></span>
          <hr class="message-header-line" />
        </div>
        <!-- ko if: isMemberChange() -->
          <div class="message-body-actions">
            <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp}"></time>
          </div>
        <!-- /ko -->
      </div>
      <!-- ko if: showServicesWarning -->
        <div class="message-services-warning" data-bind="l10n_text: z.string.conversationServicesWarning" data-uie-name="label-services-warning"></div>
      <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: message.isGroupCreation() -->
      <!-- ko if: $parent.showInvitePeople() -->
        <div class="message-member-footer">
          <div data-bind="l10n_text: z.string.guestRoomConversationHead"></div>
          <div class="message-member-footer-button" data-bind="click: $parent.clickOnInvitePeople, l10n_text: z.string.guestRoomConversationButton" data-uie-name="do-invite-people"></div>
        </div>
      <!-- /ko -->
      <!-- ko if: $parent.selfUser().isTemporaryGuest() -->
        <div class="message-member-footer">
          <div class="message-member-footer-message" data-bind="l10n_text: z.string.temporaryGuestJoinMessage"></div>
          <div class="message-member-footer-description" data-bind="l10n_text: z.string.temporaryGuestJoinDescription"></div>
        </div>
      <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: message.isMemberLeave() && message.user().is_me && $parent.selfUser().isTemporaryGuest() -->
      <div class="message-member-footer">
        <div class="message-member-footer-description" data-bind="l10n_text: z.string.temporaryGuestLeaveDescription"></div>
      </div>
    <!-- /ko -->
  <!-- /ko -->
</script>

<script type="text/html" id="ping">
  <div class="message-header">
    <div class="message-header-icon">
      <div class="icon-ping" data-bind="css: message.get_icon_classes"></div>
    </div>
    <div class="message-header-label" data-bind="attr: {title: message.ephemeral_caption()}, css: {'ephemeral-message-obfuscated': message.isObfuscated()}">
      <span class="message-header-sender-name" data-bind='text: message.unsafeSenderName()'></span>
      <span class="ellipsis" data-bind="text: message.caption"></span>
    </div>
    <div class="message-body-actions">
      <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp}"></time>
    </div>
  </div>
</script>

<script type="text/html" id="system">
  <div class="message-header">
    <div class="message-header-icon message-header-icon--svg text-graphite">
      <span data-bind="component: $parent.getSystemMessageIconComponent(message)"></span>
    </div>
    <div class="message-header-label">
      <span class="message-header-sender-name" data-bind='text: message.unsafeSenderName()'></span>
      <span class="ellipsis" data-bind="text: message.caption()"></span>
      <hr class="message-header-line" />
    </div>
    <div class="message-body-actions">
      <time class="time" data-bind="text: message.display_timestamp_short(), attr: {'data-timestamp': message.timestamp}"></time>
    </div>
  </div>
  <div class="message-body font-weight-bold" data-bind="text: message.name"></div>
</script>

<script type="text/html" id="unable-to-decrypt">
  <div class="message-header">
    <div class="message-header-icon">
      <span class="icon-sysmsg-error text-red"></span>
    </div>
    <div class="message-header-label ellipsis">
      <span data-bind="html: htmlCaption()"></span>
      <span>&nbsp;</span>
      <a class="text-theme" data-bind="l10n_text: z.string.conversationUnableToDecryptLink, attr: {'href': link}" rel="nofollow noopener noreferrer" target="_blank"></a>
      <hr class="message-header-line" />
    </div>
  </div>
  <div class="message-body message-body-decrypt-error">
    <div class="message-header-decrypt-error-label" data-bind="html: htmlErrorMessage()"></div>
    <!-- ko if: message.is_recoverable -->
      <div class="message-header-decrypt-reset-session">
        <svg class="message-header-decrypt-reset-session-spinner svg-theme spin"
             data-bind="style : {visibility : is_resetting_session() ? 'visible' : 'hidden'}"
             width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" data-uie-name="status-loading">
          <path class="fill-theme" d="M12.416 12.417c-2.374 2.375-6.28 2.33-8.72-.112-2.444-2.442-2.488-6.347-.113-8.72 1.658-1.66 4.12-2.18 6.343-1.394.477.17 1-.08 1.17-.557.167-.477-.083-1-.56-1.17C7.658-.552 4.453.124 2.286 2.29-.808 5.384-.75 10.448 2.4 13.6c3.15 3.152 8.216 3.21 11.312.113 2.165-2.166 2.84-5.37 1.824-8.25-.168-.476-.692-.726-1.17-.558-.476.17-.726.692-.557 1.17.784 2.222.265 4.684-1.394 6.342z"></path>
        </svg>
        <span class="message-header-decrypt-reset-session-action button-label text-theme"
              data-bind="click: $parent.on_session_reset_click, l10n_text: z.string.conversationUnableToDecryptResetSession, style : {visibility : !is_resetting_session() ? 'visible' : 'hidden'}"></span>
      </div>
      <!-- /ko -->
    </div>
  </div>
</script>

<script type="text/html" id="missed">
  <div class="message-header">
    <div class="message-header-icon">
      <span class="icon-sysmsg-error text-red"></span>
    </div>
    <div class="message-header-label" data-bind="l10n_text: z.string.conversationMissedMessages"></div>
  </div>
</script>

<script type="text/html" id="timestamp">
  <div class="message-header message-timestamp" data-bind="css: $parent.get_timestamp_class($data)">
    <div class="message-header-icon">
      <span class="message-unread-dot dot-md bg-theme"></span>
    </div>
    <div class="message-header-label">
      <time data-timestamp-type="normal" class="label-xs" data-bind="relative_timestamp: message.timestamp(), attr: {'data-timestamp': message.timestamp}"></time>
      <time data-timestamp-type="day" class="label-bold-xs" data-bind="relative_timestamp: message.timestamp(), relative_timestamp_day: true, attr: {'data-timestamp': message.timestamp}"></time>
    </div>
  </div>
</script>

  </body>
</html>
