<div id="conversation-titlebar" class="conversation-titlebar" data-bind="with: $root.titleBar">
  <!-- ko if: conversationEntity() -->
    <div class="conversation-titlebar-library">
      <span class="conversation-titlebar-icon button-icon-large icon-search"
            data-bind="click: clickOnCollectionButton, l10n_tooltip: z.string.tooltip_conversation_search"
            data-uie-name="do-collections"></span>
    </div>

    <!-- ko if: conversationEntity().verification_state() === z.conversation.ConversationVerificationState.VERIFIED -->
      <svg class="conversation-verified-icon" width="16" height="16">
        <use xlink:href="#icon-verified"></use>
      </svg>
    <!-- /ko -->

    <div id="show-participants"
          data-bind="click: clickOnDetails, attr: {'title': peopleTooltip}"
          data-placement="bottom"
          data-uie-name="do-participants"
          class="conversation-titlebar-name">
      <span class="conversation-titlebar-name-label label-bold-xs ellipsis" data-bind="text: conversationEntity().display_name()" data-uie-name="status-conversation-titlebar-label"></span>
      <span class="conversation-titlebar-name-icon icon-down"></span>
    </div>

    <!-- ko if: showCallControls() -->
      <div class="conversation-titlebar-icons">
        <!-- ko ifnot: conversationEntity().is_group() -->
          <span class="conversation-titlebar-icon button-icon-large icon-video"
                data-bind="click: clickOnVideoButton, l10n_tooltip: z.string.tooltip_conversation_video_call"
                data-uie-name="do-video-call">
          </span>
        <!-- /ko -->
        <span class="conversation-titlebar-icon button-icon-large icon-call"
              data-bind="click: clickOnCallButton, l10n_tooltip: z.string.tooltip_conversation_call"
              data-uie-name="do-call">
        </span>
      </div>
    <!-- /ko -->

    <!-- ko if: hasOngoingCall() -->
      <div class="conversation-titlebar-icons">
        <!-- ko if: showMaximizeControl() -->
          <span class="conversation-titlebar-icon button-icon-large icon-fullscreen"
                data-bind="click: clickOnMaximize"
                data-uie-name="do-maximize-call">
          </span>
        <!-- /ko -->
        <!-- ko if: selfStreamState.screenSend() -->
          <span class="conversation-titlebar-icon conversation-titlebar-icon-status button-icon-large icon-screensharing"
            data-uie-name="status-self-screensharing">
          </span>
        <!-- /ko -->
        <!-- ko if: selfStreamState.videoSend() -->
          <span class="conversation-titlebar-icon conversation-titlebar-icon-status button-icon-large icon-video"
                data-uie-name="status-self-video">
          </span>
        <!-- /ko -->
      </div>
    <!-- /ko -->
  <!-- /ko -->
</div>
