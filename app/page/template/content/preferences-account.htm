<div id="preferences-account" class="preferences-page preferences-account" data-bind="with: $root.preferences_account">
  <div class="preferences-titlebar" data-bind="l10n_text: z.string.preferences_account"></div>
  <div class="preferences-content">
    <!-- ko if: self_user() -->
      <div>
        <section class="preferences-section preferences-section-account">

          <div class="preferences-account-user-data">
            <input-element class="preferences-account-name" params="value: self_user().name, change: change_username, placeholder: z.string.preferences_account_username_placeholder" data-uie-name="enter-name" data-bind="l10n_tooltip: z.string.tooltip_profile_rename"></input-element>
            <span class="preferences-account-mail" data-bind="text: self_user().email()" data-uie-name="enter-email"></span>
            <span class="preferences-account-phone" data-bind="text: self_user().phone()" data-uie-name="enter-phone"></span>
          </div>

          <label class="preferences-account-picture-button" for="self-upload-file-input" data-bind="l10n_tooltip: z.string.tooltip_profile_picture">
            <user-avatar class="user-avatar-lg" params="user: self_user()"></user-avatar>
            <input id="self-upload-file-input"
                   type="file" accept="image/jpg,image/jpeg,image/png,image/bmp"
                   data-bind="file_select: click_on_change_picture"
                   data-uie-name="do-select-picture"/>
            <span class="icon-camera"></span>
          </label>

          <accent-color-picker class="preferences-account-accent-color" params="user: self_user(), selected: change_accent_color" data-uie-name="enter-accent-color"></accent-color-picker>

        </section>
        <section class="preferences-section">
          <div class="preferences-link text-theme" data-bind="click: click_on_reset_password, l10n_text: z.string.preferences_account_change_password, l10n_tooltip: z.string.tooltip_preferences_password"></div>
          <div>
            <!-- ko if: delete_status() === 'button' -->
              <span class="preferences-link text-theme"
                  data-uie-name="go-delete-account"
                  data-bind="click: click_on_delete, l10n_text: z.string.preferences_account_delete">
              </span>
            <!-- /ko -->
            <!-- ko if: delete_status() === 'dialog' -->
              <p data-bind="text: delete_confirm_text" data-uie-name="delete-confirm-text"></p>
              <span class="button button-sm" data-bind="click: click_on_delete_send, l10n_text: z.string.modal_button_send" data-uie-name="do-delete-account"></span>
              <span class="button button-sm button-inverted" data-bind="click: click_on_delete_cancel, l10n_text: z.string.modal_button_cancel" data-uie-name="do-delete-cancel"></span>
            <!-- /ko -->
            <!-- ko if: delete_status() === 'sent' -->
              <span data-bind="click: click_on_delete, l10n_text: z.string.preferences_account_email_sent" data-uie-name="delete-sent"></span>
            <!-- /ko -->
          </div>
        </section>

        <!-- ko ifnot: z.util.Environment.electron -->
          <section class="preferences-section">
            <div class="preferences-link text-theme" data-bind="click: logout, l10n_text: z.string.preferences_account_log_out" data-uie-name="do-logout"></div>
          </section>
        <!-- /ko -->
      </div>
    <!-- /ko -->
  </div>
</div>
