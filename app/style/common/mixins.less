/*
 * Wire
 * Copyright (C) 2016 Wire Swiss GmbH
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see http://www.gnu.org/licenses/.
 *
 */

// ----------------------------------------------------------------------------
// TEXT
// ----------------------------------------------------------------------------

.ellipsis {
  white-space: pre;
  overflow: hidden;
  text-overflow: ellipsis;
}

.text-nowrap {
  white-space: nowrap;
}

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

.text-uppercase {
  text-transform: uppercase;
}

.text-underline {
  text-decoration: underline;
}

.no-text-selection() {
  user-select: none;
  cursor: default;
}

.text-selection() {
  user-select: initial;
  cursor: text;
}

.font-antialiasing {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.no-font-antialiasing {
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: auto;
}

.cursor-pointer {
  cursor: pointer;
}

.cursor-default {
  cursor: default !important;
}

// ----------------------------------------------------------------------------
// Animations
// ----------------------------------------------------------------------------

@keyframes spin {to {transform: rotate(1turn);}}

.spin {
  animation: spin 1s infinite linear;
}

.spin-slow:extend(.spin) {
  animation-duration: 2.5s;
}

// ----------------------------------------------------------------------------
// GEOM
// ----------------------------------------------------------------------------

.size(@width; @height) {
  width: @width;
  height: @height;
}

.square(@size) {
  .size(@size; @size);
}

.circle(@size) {
  .square(@size);
  border-radius: 50%;
}

// ----------------------------------------------------------------------------
// ALIGNMENT
// ----------------------------------------------------------------------------

.absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.absolute-center(@size) {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: -@size / 2;
  margin-top: -@size / 2;
}

.flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.vertical-align() {
  position: relative;
  top: 50%;
  transform: translateY(-50%);
}

.pull-left {
  float: left;
}

.pull-right {
  float: right;
}

// ----------------------------------------------------------------------------
// MISC
// ----------------------------------------------------------------------------

.clear {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

.see-through {
  pointer-events: none;
}

.not-see-through {
  pointer-events: auto;
}

.full-screen {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
}

.translucent {
  opacity: .4;
}

.hidden {
  visibility: hidden;
}

.element-disabled {
  .translucent;
  pointer-events: none;
}

.grayscale {
  filter: url("data:image/svg+xml;utf8,<svg version=\'1.1\' xmlns='http://www.w3.org/2000/svg' height='0'><filter id='greyscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0' /></filter></svg>#greyscale"); // Firefox 4-34
  filter: grayscale(100%); // Standard
  -webkit-filter: grayscale(100%); // Webkit
  -webkit-filter: grayscale(1); // Old WebKit
}

.no-transition() {
  transition: none !important;
}

.hardware-acc {
  -webkit-perspective: 1000;
  -webkit-backface-visibility: hidden;
}

.mirror {
  transform: scaleX(-1);
}

// ----------------------------------------------------------------------------
// VISIBILITY
// ----------------------------------------------------------------------------

.block,
.on,
.show {
  display: block;
}

.none,
.off,
.hide {
  display: none!important;
}

// ----------------------------------------------------------------------------
// BACKGROUND HELPERS
// ----------------------------------------------------------------------------

.bg-size(@size) {
  background-size: @size;
  background-position: 50%;
  background-repeat: no-repeat;
}

.bg-cover() {
  .bg-size(cover);
}

.bg-contain() {
  .bg-size(contain);
}

// ----------------------------------------------------------------------------
// ACCENT COLOR MIXINS
// TODO main accent color should be handled via theme
// ----------------------------------------------------------------------------
.accent-color(@fade: 100%) {
  .main-accent-color-1 & { color: fade(@accent_colors-1, @fade) }
  .main-accent-color-2 & { color: fade(@accent_colors-2, @fade) }
  .main-accent-color-3 & { color: fade(@accent_colors-3, @fade) }
  .main-accent-color-4 & { color: fade(@accent_colors-4, @fade) }
  .main-accent-color-5 & { color: fade(@accent_colors-5, @fade) }
  .main-accent-color-6 & { color: fade(@accent_colors-6, @fade) }
  .main-accent-color-7 & { color: fade(@accent_colors-7, @fade) }
}

.accent-background-color(@fade: 100%) {
  .main-accent-color-1 & { background-color: fade(@accent_colors-1, @fade) }
  .main-accent-color-2 & { background-color: fade(@accent_colors-2, @fade) }
  .main-accent-color-3 & { background-color: fade(@accent_colors-3, @fade) }
  .main-accent-color-4 & { background-color: fade(@accent_colors-4, @fade) }
  .main-accent-color-5 & { background-color: fade(@accent_colors-5, @fade) }
  .main-accent-color-6 & { background-color: fade(@accent_colors-6, @fade) }
  .main-accent-color-7 & { background-color: fade(@accent_colors-7, @fade) }
}

.accent-border-color() {
  .main-accent-color-1 & { border-color: @accent_colors-1 }
  .main-accent-color-2 & { border-color: @accent_colors-2 }
  .main-accent-color-3 & { border-color: @accent_colors-3 }
  .main-accent-color-4 & { border-color: @accent_colors-4 }
  .main-accent-color-5 & { border-color: @accent_colors-5 }
  .main-accent-color-6 & { border-color: @accent_colors-6 }
  .main-accent-color-7 & { border-color: @accent_colors-7 }
}

.accent-color-selection-mixin(@accent_id) when (@accent_id > 0){
  .accent-color-selection-mixin(@accent_id - 1);
  // output
  .main-accent-color-@{accent_id} & {
    @accent-color: "accent_colors-@{accent_id}";
    &::-moz-selection { background-color: fade(@@accent-color, 24%) }
    &::selection { background-color: fade( @@accent-color, 24%) }
  }
}

.accent-selection-color() {
  .accent-color-selection-mixin(7);
}

// ----------------------------------------------------------------------------
// BUBBLE
// ----------------------------------------------------------------------------

.bubble-content() {
  display: flex;
  flex-direction: column;
  width: @bubble-width;
  height: @bubble-height;
}


// ----------------------------------------------------------------------------
// ICON MIXINS
// ----------------------------------------------------------------------------

.icon-mixin (@code, @icon-size){
  content: @code;
  font-family: 'Wire';
  speak: none;
  font-size: @icon-size;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;

  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// ----------------------------------------------------------------------------
// ELEMENT RESETS
// ----------------------------------------------------------------------------

.reset-textarea {
  border: none;
  outline: 0;
  padding: 0;
  margin: 0;
  resize: none;
}

.list-unstyled() {
  list-style-type: none;
  padding-left: 0;
}

// ----------------------------------------------------------------------------
// SCROLLBARS
// ----------------------------------------------------------------------------

// creates mac like scrollbar, but only in webkit browsers
.custom-scrollbar() {

  @scrollbar-size: 7px;

  &::-webkit-scrollbar {
    width: @scrollbar-size;
  }

  &::-webkit-scrollbar-track {
    background: none;
  }

  &::-webkit-scrollbar-thumb {
    box-shadow: 0 0 1px #fff;
    background-color: fade(#000, 50%);
    border-radius: @scrollbar-size;
  }
}

.hide-scrollbar() {
  &::-webkit-scrollbar {
    display: none !important
  }
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
}

// ----------------------------------------------------------------------------
// SVG BACKGROUNDS
// ----------------------------------------------------------------------------

.group-icon {
  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA2NCA2NCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KCTxnPg0KCTwvZz4NCgk8Zz4NCgk8L2c+DQoJPGc+DQoJPC9nPg0KPC9nPg0KPGc+DQoJPGRlZnM+DQoJCTxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTMyLDRjMTUuNCwwLDI4LDEyLjYsMjgsMjhTNDcuNCw2MCwzMiw2MFM0LDQ3LjQsNCwzMlMxNi42LDQsMzIsNCBNMzIsMEMxNC4zLDAsMCwxNC4zLDAsMzJzMTQuMywzMiwzMiwzMg0KCQkJczMyLTE0LjMsMzItMzJTNDkuNywwLDMyLDBMMzIsMHoiLz4NCgk8L2RlZnM+DQoJPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQoJCTx1c2UgeGxpbms6aHJlZj0iI1NWR0lEXzFfIiAgb3ZlcmZsb3c9InZpc2libGUiLz4NCgk8L2NsaXBQYXRoPg0KCTxnIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiPg0KCQk8Zz4NCgkJCTxnPg0KCQkJCTxwYXRoIGZpbGw9IiM5RDAwRkYiIGQ9Ik0zMiwzMS45TDYuMiwxMy4yQzEyLjQsNC42LDIxLjQsMCwzMiwwVjMxLjl6Ii8+DQoJCQk8L2c+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsPSIjRkU1RUJEIiBkPSJNMzIsMzEuOUwxLjcsNDEuOEMtMS42LDMxLjcsMCwyMS43LDYuMiwxMy4yTDMyLDMxLjl6Ii8+DQoJCQk8L2c+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsPSIjRkY5NjAwIiBkPSJNMzIsMzEuOUwyMC42LDYxLjdDMTEuNCw1OC4yLDQuNyw1MS4yLDEuNyw0MS44TDMyLDMxLjl6Ii8+DQoJCQk8L2c+DQoJCTwvZz4NCgkJPGc+DQoJCQk8Zz4NCgkJCQk8cGF0aCBmaWxsPSIjRkIwODA3IiBkPSJNMzIsMzEuOWwxNS41LDI3LjljLTguNiw0LjgtMTcuNyw1LjQtMjYuOSwxLjlMMzIsMzEuOXoiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCQk8Zz4NCgkJCTxnPg0KCQkJCTxwYXRoIGZpbGw9IiNGRkQyMDAiIGQ9Ik0zMiwzMS45bDMxLjQsNS41Yy0xLjcsOS43LTcuMywxNy42LTE2LDIyLjRMMzIsMzEuOXoiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCQk8Zz4NCgkJCTxnPg0KCQkJCTxwYXRoIGZpbGw9IiMwMEM4MDAiIGQ9Ik0zMiwzMS45bDI0LjUtMjAuNWM2LjMsNy42LDguNywxNi4zLDcsMjYuMUwzMiwzMS45eiIvPg0KCQkJPC9nPg0KCQk8L2c+DQoJCTxnPg0KCQkJPGc+DQoJCQkJPHBhdGggZmlsbD0iIzI0OTJEMyIgZD0iTTMyLDMxLjlWMGM5LjksMCwxOC4xLDMuOCwyNC41LDExLjRMMzIsMzEuOXoiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K");
}
